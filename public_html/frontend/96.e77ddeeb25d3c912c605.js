(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{oXP6:function(e,t,l){"use strict";l.r(t);var n=l("CcnG"),a=function(){return function(){}}(),i=l("pMnS"),s=l("Vnl2"),r=l("9AJC"),o=l("4GxJ"),u=l("gIcY"),c=l("XgrQ"),d=l("+o/m"),h=l("Ip0R"),p=l("cfkQ"),g=l("z8lh"),m=l("ZYjt"),_=l("+Uyi"),f=l("eFrH"),v=l("vUtf"),b=l("0sti"),y=l("8a+K"),C=l("RJMX"),E=l("coEj"),S=l("iNZF"),R=l("ALPY"),D=l("UQAU"),I=l("rYF7"),w=l("7q7Q"),T=l("SuIb"),P=l("JPpP"),A=l("/fMc"),x=l("1yeg"),V=l("SSr2"),N=l("+u8f"),k=l("TCqF"),M=l("teKj"),F=l("FVSd"),O=l("hx3Q"),L=l("H9RC"),U=l("PfFs"),q=l("53qZ"),G=l("9Pwp"),j=l("jdBv"),B=l("LqiL"),z=l("2Mas"),$=l("A65b"),K=l("U64t"),Z=l("1b2F"),Y=l("JEAp"),J=l("XqKP"),W=l("QTFM"),Q=l("NWap"),H=l("3V+q"),X=l("N6VH"),ee=l("1wkq"),te=l("EiH4"),le=l("z89T"),ne=l("m3oD"),ae=l("NiO+"),ie=l("7QCc"),se=l("TFBR"),re=l("/gWu"),oe=l("0Zic"),ue=l("AoDK"),ce=l("eiqJ"),de=l("tCKL"),he=l("pQVB"),pe=l("QkQD"),ge=l("zwh2"),me=l("wG/G"),_e=l("078p"),fe=l("Zk2g"),ve=l("c4FF"),be=l("qYr5"),ye=l("jXnw"),Ce=l("4NRs"),Ee=l("mhEj"),Se=l("iYF/"),Re=l("dV+S"),De=l("8Kln"),Ie=l("6HGF"),we=l("3Nac"),Te=l("TRUQ"),Pe=l("f7/7"),Ae=l("PSD3"),xe=l.n(Ae),Ve=l("SwDF"),Ne=l("ojuZ"),ke=l("rCiw"),Me=l("rhJm"),Fe=l("FExI"),Oe=l("yipI"),Le=l("U4wa"),Ue=l("/11S"),qe=function(){function e(e,t,l,n,a,i,s,r,o,u,c,d,h,p,g,m,_,f,v,b,C,S,R,D,I,w,V,N,M,F,O,L,U,j,B,z,$,Y,H,X,ee,te,le,ne,ie,oe){this.toastr=e,this.approvalStateDataService=t,this.consultorDataService=l,this.mailerDataService=n,this.payDataService=a,this.userDataService=i,this.registerProcedureDataService=s,this.dinardapDataService=r,this.registerStateDataService=o,this.approvalStateAttachmentDataService=u,this.rucDataService=c,this.modalService=d,this.payAttachmentDataService=h,this.agreementDataService=p,this.rucNameTypeDataService=g,this.group_typeDataService=m,this.stateDeclaratonDataService=_,this.registerCatastroDataService=f,this.languageDataService=v,this.complementaryServiceFoodTypeDataService=b,this.establishmentPictureDataService=C,this.ubicationDataService=S,this.exporterDataService=R,this.establishmentCertificationAttachmentDataService=D,this.personRepresentativeAttachmentDataService=I,this.complementary_service_typeDataService=w,this.systemNameDataService=V,this.genderDataService=N,this.workerGroupDataService=M,this.capacityTypeDataService=F,this.payTaxDataService=O,this.establishment_certification_typeDataService=L,this.establishment_property_typeDataService=U,this.establishmentDataService=j,this.register_typeDataService=B,this.requisiteDataService=z,this.declarationAttachmentDataService=$,this.bedTypeDataService=Y,this.declarationDataService=H,this.declarationItemCategoryDataService=X,this.declarationItemDataService=ee,this.tariffTypeDataService=te,this.stateDataService=le,this.stateAlojamientoDataService=ne,this.tax_payer_typeDataService=ie,this.registerDataService=oe,this.stateTramiteId=0,this.inspectores=[],this.financieros=[],this.financialSelectedId=0,this.zonales=[],this.totalPayBase=0,this.totalPayFines=0,this.totalPayTaxes=0,this.totalPayToPay=0,this.registerApprovals=[],this.registerApprovalCoordinador=new E.a,this.registerApprovalInspector=new E.a,this.registerApprovalFinanciero=new E.a,this.pay=new T.a,this.paySelectedOrders=new T.a,this.paytaxes=[],this.pays=[],this.pays_calc=[],this.isAssigned=!1,this.hasIspectionDate=!1,this.hasInform=!1,this.digito="",this.hasRequisites=!1,this.inspectionState=0,this.imprimiendoDeclaracion=!1,this.estoyVacaciones=!1,this.declarationApprovalStateAttachment=new y.a,this.payApprovalStateAttachment=new y.a,this.newRegisterState=new A.a,this.maxDeclarationYear=0,this.declaration_state_id=0,this.declarationstates=[],this.registers_mintur=[],this.tipo_tramite="",this.registerMinturSelected=null,this.currentPageMinturRegisters=1,this.lastPageMinturRegisters=1,this.recordsByPageRegisterMintur=5,this.mostrarDataRegisterMintur=!1,this.config={paging:!0,filtering:{filterString:""},className:["table-striped","table-hover","table-bordered"]},this.rows=[],this.columns=[],this.data=[],this.editable=!1,this.imContactRuc=!0,this.roles=[],this.terminosCondiciones=!1,this.terminosCondicionesAgreement=new k.a,this.rucReady=!1,this.currentPageRegister=1,this.lastPageRegister=1,this.recordsByPageRegister=5,this.mostrarData=!0,this.fechaSolicitud=new Date,this.group_types=[],this.rucs_registrados=[],this.ruc_registro_selected=new Q.a,this.rucData="CONECT\xc1NDOSE AL SRI...",this.superciasData="CONECT\xc1NDOSE A LA SUPERINTENDENCIA DE COMPAN\xcdAS...",this.cedulaData="CONECT\xc1NDOSE AL REGISTRO CIVIL...",this.representanteCedulaData="CONECT\xc1NDOSE AL REGISTRO CIVIL...",this.cedulaEstablishmentContactData="CONECT\xc1NDOSE AL REGISTRO CIVIL...",this.tax_payer_types=[],this.zonalSelectedCode="-",this.provinciaSelectedCode="-",this.cantonSelectedCode="-",this.groupTypeSelected=new K.a,this.rucValidated=!1,this.identificationRepresentativePersonValidated=!1,this.identificationContactValidated=!1,this.addressContactValidated=!1,this.emailContactValidated=!1,this.mainPhoneContactValidated=!1,this.secondaryPhoneContactValidated=!0,this.user=new ve.a,this.rowsEstablishment=[],this.columnsEstablishment=[],this.dataEstablishment=[],this.establishment_certification_types=[],this.identificationContactEstablishmentValidated=!1,this.mainPhoneContactEstablishmentValidated=!1,this.secondaryPhoneContactEstablishmentValidated=!0,this.emailContactEstablishmentValidated=!1,this.currentPageEstablishment=1,this.lastPageEstablishment=1,this.recordsByPageEstablishment=5,this.mostrarDataEstablishment=!1,this.zonalEstablishmentSelectedCode="-",this.provinciaEstablishmentSelectedCode="-",this.cantonEstablishmentSelectedCode="-",this.payManualAgreement=!1,this.zonalesEstablishment=[],this.provinciasEstablishment=[],this.ruc_name_types=[],this.preview_register_codes=[],this.establishment_selected=new J.a,this.establishment_property_types=[],this.establishment_selected_picture=new Z.a,this.languages=[],this.guardandoFinanciero=!1,this.languages_establishmentSelectedId=0,this.ubications=[],this.system_names=[],this.workers=[],this.worker_establishmentSelected=new se.a,this.worker_groups=[],this.genders=[],this.establishment_certification_types_categories=[],this.establishment_certifications=[],this.preview_register_codes_establishmentSelected=new ae.a,this.establishmentComercialNameValidated=!1,this.addressEstablishmentValidated=!1,this.mainPhoneEstablishmentValidated=!1,this.secondaryPhoneEstablishmentValidated=!0,this.urlwebEstablishmentValidated=!0,this.establishment_certifications_establishmentSelected=new W.a,this.rowsRegister=[],this.columnsRegister=[],this.dataRegister=[],this.estado_tramite_selected_code="1",this.statusSelected=new A.a,this.mostrarDataRegister=!1,this.showRequisites=!1,this.complementaryServiceFoodSelected=new x.a,this.rucEstablishmentRegisterSelected=new re.a,this.clasifications_registers=[],this.categories_registers=[],this.register_types=[],this.complementary_service_types=[],this.complementary_service_types_categories=[],this.requisitesByRegisterType=[],this.categorySelectedCode="-",this.complementary_service_types_registerSelectedId=0,this.capacitySelected=new G.a,this.bedSelected=new q.a,this.as_turistic_date=null,this.register_code="",this.alowed_bed_types=[],this.register_establishment_capacities_registerSelectedId=0,this.rack_prices_registerSelectedId=0,this.establishment_service_offers_registerSelectedId=0,this.tarifas=[],this.states=[],this.statesAlojamiento=[],this.alowed_capacity_types=[],this.complementaryServiceFoodTypes=[],this.consumoCedula=!1,this.consumoCedulaEstablishmentContact=!1,this.consumoRuc=!1,this.establishment_id=0,this.consumoCedulaRepresentanteLegal=!1,this.SRIOK=!1,this.contactUser=new ve.a,this.REGCIVILOK=!1,this.balance=new Ne.a,this.REGCIVILOKEstablishment=!1,this.REGCIVILREPRESENTANTELEGALOK=!1,this.guardando=!1,this.currentPageDeclaration=1,this.lastPageDeclaration=1,this.mostrarMotivoTramite=!1,this.motivoTramite="",this.recordsByPageDeclaration=5,this.establishment_declarations_selected=new J.a,this.declaration_selected=new P.a,this.mostrarDataDeclaration=!1,this.declarations=[],this.payDeclarationSelected=new T.a,this.declarationItemsToShow=[],this.declarationItemsCategories=[],this.declarationItems=[],this.totalunoxmil=0,this.maxYear=2019,this.idRegister=0}return e.prototype.ngOnInit=function(){this.refresh(),this.getUser()},e.prototype.descargarDocumentoDePago=function(e){this.downloadFile(e.pay_attachment.pay_attachment_file,e.pay_attachment.pay_attachment_file_type,e.pay_attachment.pay_attachment_file_name)},e.prototype.CodeFileDocumentoPago=function(e,t){var l=this,n=new FileReader;if(e.target.files&&e.target.files.length>0){var a=e.target.files[0];n.readAsDataURL(a),n.onload=function(){t.pay_attachment.pay_attachment_file_name=a.name,t.pay_attachment.pay_attachment_file_type=a.type,t.pay_attachment.pay_attachment_file=n.result.toString().split(",")[1],t.pay_attachment.pay_id=t.id,l.payAttachmentDataService.post(t.pay_attachment).then(function(e){l.toastr.successToastr("Documento de Pago Guardado Satisfactoriamente","Documento de Pago")}).catch(function(e){console.log(e)})}}},e.prototype.borrarDocumentoDePago=function(e){var t=this;this.payAttachmentDataService.delete(e.pay_attachment.id).then(function(l){e.pay_attachment=new Ue.a,t.toastr.warningToastr("Documento de Pago Borrado Satisfactoriamente","Documento de Pago")}).catch(function(e){console.log(e)})},e.prototype.checkMotivoTramite=function(e){var t=this;this.motivoTramite="";var l=e.substring(0,1);this.mostrarMotivoTramite="1"!=l,this.tipo_tramite="REGISTRO",this.registerProcedureDataService.get_by_register_id(this.idRegister.toString()).then(function(l){void 0!==l.id&&(t.motivoTramite=l.justification,t.registerCatastroDataService.get_by_register_code(t.register_code).then(function(l){void 0!==l.activity&&(t.as_turistic_date=new Date(l.as_turistic_date.toString()));var n=e.substring(0,1);"1"==n&&(t.tipo_tramite="REGISTRO"),"2"==n&&(t.tipo_tramite="RECLASIFICACI\xd3N"),"3"==n&&(t.tipo_tramite="RECATEGORIZACI\xd3N"),"4"==n&&(t.tipo_tramite="ACTUALIZACI\xd3N"),"5"==n&&(t.tipo_tramite="INACTIVACI\xd3N"),"6"==n&&(t.tipo_tramite="REINGRESO"),"20"==e&&(t.tipo_tramite="REGISTRO"),"30"==e&&(t.tipo_tramite="RECLASIFICACI\xd3N"),"40"==e&&(t.tipo_tramite="RECATEGORIZACI\xd3N"),"50"==e&&(t.tipo_tramite="ACTUALIZACI\xd3N"),"60"==e&&(t.tipo_tramite="INACTIVACI\xd3N"),"70"==e&&(t.tipo_tramite="REINGRESO")}).catch(function(e){console.log(e)}))}).catch(function(e){console.log(e)})},e.prototype.onChangeTableEstablishment=function(e,t){void 0===t&&(t={page:this.currentPageEstablishment,itemsPerPage:this.recordsByPageEstablishment}),e.filtering&&Object.assign(this.config.filtering,e.filtering),e.sorting&&Object.assign(this.config.sorting,e.sorting);var l=this.changeFilterEstablishment(this.dataEstablishment,this.config),n=this.changeSortEstablishment(l,this.config);this.rowsEstablishment=t&&e.paging?this.changePageEstablishment(t,n):n},e.prototype.changeFilterEstablishment=function(e,t){var l=this;this.mostrarDataEstablishment=!1,this.rowsEstablishment.forEach(function(e){e.selected=""});var n=e;if(this.columnsEstablishment.forEach(function(e){e.filtering&&(n=n.filter(function(t){return t[e.name].match(e.filtering.filterString)}))}),!t.filtering)return n;if(t.filtering.columnName)return n.filter(function(e){return e[t.filtering.columnName].match(l.config.filtering.filterString)});var a=[];return n.forEach(function(e){var t=!1;l.columnsEstablishment.forEach(function(n){e[n.name].toString().match(l.config.filtering.filterString)&&(t=!0)}),t&&a.push(e)}),n=a},e.prototype.rechazarCheck=function(){this.registerApprovalFinanciero.notes=""},e.prototype.pagado=function(){var e=!0;return this.pays.forEach(function(t){t.payed||(e=!1)}),e},e.prototype.devolverVacaciones=function(){var e=this;""!=this.registerApprovalFinanciero.notes?xe.a.fire({title:"Confirmaci\xf3n",text:"\xbfEst\xe1 seguro de devolver el tr\xe1mite al Coordinador Zonal?, Recuerde que al hacerlo, la solicitud volver\xe1 a la Bandeja del Coordinador Zonal para una nueva asignaci\xf3n.",type:"warning",showCancelButton:!0,confirmButtonText:"Si, continuar",cancelButtonText:"No, cancelar",reverseButtons:!0}).then(function(t){t.value?(xe.a.fire("Tr\xe1mite Devuelto!","La solicitud ha sido devuelta al Coordinador Zonal","success"),e.registerApprovalFinanciero.date_assigment=null,e.registerApprovalFinanciero.notes="Devuelto: <strong>"+e.user.name+":</strong> "+e.registerApprovalFinanciero.notes,e.approvalStateDataService.put(e.registerApprovalFinanciero).then(function(t){var l=new A.a;l.justification="El T\xe9cnico Financiero no se encuentra disponible por Vacaciones / Fuera de Oficina",l.register_id=e.idRegister;var n=e.stateTramiteId.toString();"7"==n.substring(n.length-1,n.length)&&(l.state_id=e.stateTramiteId+3),e.registerStateDataService.post(l).then(function(t){e.toastr.warningToastr("Tr\xe1mite devuelto al Coordinador Zonal, Satisfactoriamente.","Devoluci\xf3n por Vacaciones / Fuera de Oficina"),e.refresh()}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})):t.dismiss===xe.a.DismissReason.cancel&&xe.a.fire("Cancelado","","error")}):this.toastr.errorToastr("Debe indicar la justificaci\xf3n para la devoluci\xf3n del tr\xe1mite.","Devoluci\xf3n por Vacaciones / Fuera de Oficina")},e.prototype.calcularUnoxMil=function(){var e=this;this.totalunoxmil=0,this.declarationItemsToShow.forEach(function(t){t.items.forEach(function(t){e.totalunoxmil+=t.valueItem.value*t.declarationItem.factor})})},e.prototype.changeSortEstablishment=function(e,t){if(!t.sorting)return e;for(var l=this.config.sorting.columns||[],n=void 0,a=void 0,i=0;i<l.length;i++)""!==l[i].sort&&!1!==l[i].sort&&(n=l[i].name,a=l[i].sort);return n?e.sort(function(e,t){return e[n]>t[n]?"desc"===a?-1:1:e[n]<t[n]?"asc"===a?-1:1:0}):e},e.prototype.changePageEstablishment=function(e,t){void 0===t&&(t=this.dataEstablishment);var l=(e.page-1)*e.itemsPerPage;return t.slice(l,e.itemsPerPage>-1?l+e.itemsPerPage:t.length)},e.prototype.buildDataTableEstablishment=function(){var e=this;this.columnsEstablishment=[{title:"",name:"selected"},{title:"N\xfamero de Establecimiento",name:"code"},{title:"Direcci\xf3n",name:"address"},{title:"Nombre Comercial",name:"name"}];var t=[];this.ruc_registro_selected.ruc.establishments.forEach(function(l){Number(l.ruc_code_id)==Number(e.registerMinturSelected.establishment.ruc_code_id)&&t.push({selected:"",code:l.ruc_code_id,address:l.address_main_street+" "+l.address_number+" "+l.address_secondary_street,name:l.commercially_known_name})}),t.sort(function(e,t){return Number(e.code)>Number(t.code)?1:Number(e.code)<Number(t.code)?-1:0}),this.dataEstablishment=t,this.onChangeTableEstablishment(this.config)},e.prototype.onCellClickEstablishment=function(e){var t=this;""!=e.row.name?(this.ruc_registro_selected.ruc.establishments.forEach(function(l){l.ruc_code_id==e.row.code&&t.selectRegisterEstablishment(l)}),this.rowsEstablishment.forEach(function(t){t.selected=t.code==e.row.code?'<div class="col-12 text-right"><span class="far fa-hand-point-right"></span></div>':""})):this.toastr.errorToastr("El establecimiento seleccionado, no tiene nombre comercial. Ac\xe9rquese al SRI para registrar el nombre comercial del establecimiento.","Datos - SRI")},e.prototype.onChangeTableRegister=function(e,t){void 0===t&&(t={page:this.currentPageRegister,itemsPerPage:this.recordsByPageRegister}),e.filtering&&Object.assign(this.config.filtering,e.filtering),e.sorting&&Object.assign(this.config.sorting,e.sorting);var l=this.changeFilterRegister(this.dataRegister,this.config),n=this.changeSortRegister(l,this.config);this.rowsRegister=t&&e.paging?this.changePageRegister(t,n):n},e.prototype.changeFilterRegister=function(e,t){var l=this;this.mostrarDataRegister=!1,this.rowsRegister.forEach(function(e){e.selected=""});var n=e;if(this.columnsRegister.forEach(function(e){e.filtering&&(n=n.filter(function(t){return t[e.name].match(e.filtering.filterString)}))}),!t.filtering)return n;if(t.filtering.columnName)return n.filter(function(e){return e[t.filtering.columnName].match(l.config.filtering.filterString)});var a=[];return n.forEach(function(e){var t=!1;l.columnsRegister.forEach(function(n){e[n.name].toString().match(l.config.filtering.filterString)&&(t=!0)}),t&&a.push(e)}),n=a},e.prototype.downloadBalance=function(){this.downloadFile(this.balance.declaration_attachment_file,this.balance.declaration_attachment_file_type,this.balance.declaration_attachment_file_name)},e.prototype.changeSortRegister=function(e,t){if(!t.sorting)return e;for(var l=this.config.sorting.columns||[],n=void 0,a=void 0,i=0;i<l.length;i++)""!==l[i].sort&&!1!==l[i].sort&&(n=l[i].name,a=l[i].sort);return n?e.sort(function(e,t){return e[n]>t[n]?"desc"===a?-1:1:e[n]<t[n]?"asc"===a?-1:1:0}):e},e.prototype.changePageRegister=function(e,t){void 0===t&&(t=this.dataRegister);var l=(e.page-1)*e.itemsPerPage;return t.slice(l,e.itemsPerPage>-1?l+e.itemsPerPage:t.length)},e.prototype.buildDataTableRegister=function(){var e=this;this.columnsRegister=[{title:"",name:"selected"},{title:"C\xf3digo del Establecimiento",name:"establishment_code",filtering:{filterString:"",placeholder:"C\xf3digo del Establecimiento"}},{title:"Ubicaci\xf3n del Establecimiento",name:"address",filtering:{filterString:"",placeholder:"Ubicaci\xf3n del Establecimiento"}},{title:"C\xf3digo del Registro",name:"register_code",filtering:{filterString:"",placeholder:"C\xf3digo del Registro"}},{title:"Tipo de Registro",name:"register_type",filtering:{filterString:"",placeholder:"Tipo de Registro"}},{title:"Estado",name:"state",filtering:{filterString:"",placeholder:"Estado"}},{title:"Observaciones",name:"notes"}];var t=[];this.ruc_registro_selected.registers.forEach(function(l){t.push({selected:"",id:l.register.id,establishment_code:l.establishment.ruc_code_id,address:l.establishment.address_main_street+" "+l.establishment.address_number+" "+l.establishment.address_secondary_street,register_code:l.register.code,register_type:l.type.register_category.name+" / "+l.type.register_type.name,state:e.getRegisterState(l.status.id),state_id:l.status_register.state_id,notes:'<div class="col-12 text-justify">'+l.status_register.justification+"</div>"})}),this.dataRegister=t,this.onChangeTableRegister(this.config)},e.prototype.onCellClickRegister=function(e){var t=this;this.ruc_registro_selected.registers.forEach(function(l){l.register.id==e.row.id&&t.selectEstablishmentRegister(l.register)}),this.stateTramiteId=e.row.state_id,this.showTramiteState(),this.rowsRegister.forEach(function(t){t.selected=t.id==e.row.id?'<div class="col-12 text-right"><span class="far fa-hand-point-right"></span></div>':""})},e.prototype.showTramiteState=function(){var e=this.stateTramiteId.toString(),t=e.substring(e.length-1,e.length);this.estado_tramite_selected_code=t,this.getSpecificStates()},e.prototype.onChangeTable=function(e,t){void 0===t&&(t={page:this.currentPageMinturRegisters,itemsPerPage:this.recordsByPageRegisterMintur}),e.filtering&&Object.assign(this.config.filtering,e.filtering),e.sorting&&Object.assign(this.config.sorting,e.sorting);var l=this.changeFilter(this.data,this.config),n=this.changeSort(l,this.config);this.rows=t&&e.paging?this.changePage(t,n):n},e.prototype.changeFilter=function(e,t){var l=this;this.mostrarDataRegisterMintur=!1,this.rows.forEach(function(e){e.selected=""});var n=e;if(this.columns.forEach(function(e){e.filtering&&(n=n.filter(function(t){return t[e.name].match(e.filtering.filterString)}))}),!t.filtering)return n;if(t.filtering.columnName)return n.filter(function(e){return e[t.filtering.columnName].match(l.config.filtering.filterString)});var a=[];return n.forEach(function(e){var t=!1;l.columns.forEach(function(n){e[n.name].toString().match(l.config.filtering.filterString)&&(t=!0)}),t&&a.push(e)}),n=a},e.prototype.changeSort=function(e,t){if(!t.sorting)return e;for(var l=this.config.sorting.columns||[],n=void 0,a=void 0,i=0;i<l.length;i++)""!==l[i].sort&&!1!==l[i].sort&&(n=l[i].name,a=l[i].sort);return n?e.sort(function(e,t){return e[n]>t[n]?"desc"===a?-1:1:e[n]<t[n]?"asc"===a?-1:1:0}):e},e.prototype.changePage=function(e,t){void 0===t&&(t=this.data);var l=(e.page-1)*e.itemsPerPage;return t.slice(l,e.itemsPerPage>-1?l+e.itemsPerPage:t.length)},e.prototype.getRegistersMintur=function(){var e=this;this.registers_mintur=[],this.registerMinturSelected=new re.a,this.consultorDataService.get_registers_assigned_financial_id(this.user.id).then(function(t){e.registers_mintur=t,e.buildDataTable()}).catch(function(e){return console.log(e)})},e.prototype.buildDataTable=function(){var e=this;this.columns=[{title:"",name:"selected"},{title:"N\xfamero de RUC",name:"number"},{title:"N\xfamero de Establecimiento",name:"ruc_code_id"},{title:"Nombre Comercial",name:"establishment"},{title:"Estado",name:"estado"},{title:"Direcci\xf3n",name:"address"},{title:"Categor\xeda",name:"category"},{title:"Fecha de Solicitud",name:"created_at"},{title:"Fecha de Asignaci\xf3n",name:"date_assigment"}];var t=[];this.registers_mintur.forEach(function(l){var n="",a=new Date,i=e.getRegisterState(l.states.state_id);0==i.search("Aprobado")&&(a=new Date(l.states.updated_at)),0==i.search("Negado")&&(a=new Date(l.states.updated_at));var s=new Date(l.register.created_at),r=Math.abs(s.getTime()-a.getTime()),o=Math.ceil(r/864e5);o<7&&(n='<div class="col-12 text-center"><span class="badge badge-success">&nbsp;'+o.toString()+"&nbsp;</span></div>"),o>=7&&o<=10&&(n='<div class="col-12 text-center"><span class="badge badge-warning">&nbsp;'+o.toString()+"&nbsp;</span></div>"),o>10&&(n='<div class="col-12 text-center"><span class="badge badge-danger">&nbsp;'+o.toString()+"&nbsp;</span></div>");var u=l.states.state_id.toString(),c=u.substring(u.length-1,u.length);if("7"==c||"8"==c){var d=new Date(l.register.created_at.toString());t.push({selected:"",date_assigment_alert:n,number:l.ruc.number,registerId:l.register.id,ruc_code_id:l.establishment.ruc_code_id,establishment:l.establishment.commercially_known_name,address:l.establishment.address_main_street+" "+l.establishment.address_number+" "+l.establishment.address_secondary_street,created_at:d.toLocaleDateString(),date_assigment:new Date(l.register.date_assigment).toLocaleDateString(),category:e.getRegisterCategory(l.register.register_type_id),status:i,status_id:l.states.state_id,establishment_id:l.establishment.id,estado:e.getRegisterState(l.states.state_id)})}}),this.data=t,this.onChangeTable(this.config)},e.prototype.imprimirDeclaracion=function(){},e.prototype.validateNotesInspection=function(){return this.registerApprovalFinanciero.notes.length>4},e.prototype.validateInspectionInfo=function(){return this.validateNotesInspection()},e.prototype.borrarOrdenDePago=function(e){var t=this;this.payDataService.delete(e.id).then(function(e){t.toastr.errorToastr("\xd3rden de Pago Eliminada Satisfactoriamente","Revisi\xf3n, T\xe9cnico Financiero"),t.getPays()}).catch(function(e){console.log(e)})},e.prototype.saveToPayValue=function(){var e=this;this.pay.ruc_id=this.ruc_registro_selected.ruc.id,this.pay.amount_payed=-1,this.pay.pay_date=null,this.pay.code=this.ruc_registro_selected.ruc.number.substring(0,10)+this.pays.length.toString()+"CP",this.pay.payed=!1,this.payDataService.post(this.pay).then(function(t){e.getPays()}).catch(function(e){console.log(e)})},e.prototype.saveToPayValueCalc=function(e){var t=this;e.ruc_id=this.ruc_registro_selected.ruc.id,e.amount_payed=-1,e.pay_date=null,e.code=this.ruc_registro_selected.ruc.number.substring(0,10)+this.pays.length.toString(),e.payed=!1,this.payDataService.post(e).then(function(e){t.getPays()}).catch(function(e){console.log(e)})},e.prototype.calcTotales=function(){var e=this;return this.totalPayBase=0,this.totalPayFines=0,this.totalPayTaxes=0,this.totalPayToPay=0,this.pays.forEach(function(t){t.payed||(e.totalPayToPay+=1*t.amount_to_pay,e.totalPayBase+=1*t.amount_to_pay_base,e.totalPayFines+=1*t.amount_to_pay_fines,e.totalPayTaxes+=1*t.amount_to_pay_taxes)}),!0},e.prototype.enviarEmailPago=function(){var e=this,t="";this.totalPayBase=0,this.totalPayFines=0,this.totalPayTaxes=0,this.totalPayToPay=0,this.pays.forEach(function(l){l.payed||(e.totalPayToPay+=1*l.amount_to_pay,e.totalPayBase+=1*l.amount_to_pay_base,e.totalPayFines+=1*l.amount_to_pay_fines,e.totalPayTaxes+=1*l.amount_to_pay_taxes,t+=l.code+", ")}),t=t.trim().substr(0,t.length-1);var l=new Date,n="",a="",i=new ue.a;this.register_types.forEach(function(t){e.registerMinturSelected.register.register_type_id==t.id&&(i=t,a=t.name)}),this.register_types.forEach(function(e){i.father_code==e.code&&(n=e.name)});var s="",r=new ie.a;this.ubications.forEach(function(t){t.id==e.registerMinturSelected.establishment.ubication_id&&(s=t.name,r=t)});var o="",u=new ie.a;this.ubications.forEach(function(e){e.code==r.father_code&&(o=e.name,u=e)});var c="",d=new ie.a;this.ubications.forEach(function(e){e.code==u.father_code&&(c=e.name,d=e)});var h,p=new ie.a;this.ubications.forEach(function(e){e.code==d.father_code&&(p=e)}),this.zonales.forEach(function(e){e.name==p.name&&(h=e)});var g=h.direccion.split(">")[1].split("<")[0],m=h.telefono.split(">")[1].split("<")[0];this.userDataService.get(this.registerMinturSelected.establishment.contact_user_id).then(function(i){var r={para:i.name.toUpperCase(),amount_to_pay_base:e.totalPayBase,amount_to_pay_fines:e.totalPayFines,amount_to_pay_taxes:e.totalPayTaxes,amount_to_pay:e.totalPayToPay,ruc:e.ruc_registro_selected.ruc.number,nombreComercial:e.registerMinturSelected.establishment.commercially_known_name.toUpperCase(),fechaSolicitud:e.fechaSolicitud.toLocaleDateString(),actividad:"Alojamiento Tur\xedstico".toUpperCase(),clasificacion:n.toUpperCase(),categoria:a.toUpperCase(),tipoSolicitud:e.tipo_tramite.toUpperCase(),provincia:c.toUpperCase(),canton:o.toUpperCase(),parroquia:s.toUpperCase(),payCodes:t,callePrincipal:e.registerMinturSelected.establishment.address_main_street.toUpperCase(),calleInterseccion:e.registerMinturSelected.establishment.address_secondary_street.toUpperCase(),numeracion:e.registerMinturSelected.establishment.address_number,czDireccion:g.toUpperCase(),czTelefono:m,thisYear:l.getFullYear()};e.mailerDataService.sendMail("pago",i.email.toString(),"\xd3rden de Pago Registrada",r).then(function(t){e.toastr.successToastr("Informaci\xf3n Guardada Satisfactoriamente","Revisi\xf3n, T\xe9cnico Financiero")}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},e.prototype.descargarDeclaracionPDF=function(e){var t=this;this.imprimiendoDeclaracion=!0,this.declarations.forEach(function(l){if(l.year.toString()==e.code){var n=new Date,a=l.year,i="PERSONA NATURAL";1==t.ruc_registro_selected.ruc.tax_payer_type_id?(a=l.year,i="PERSONA NATURAL"):(a=l.year-1,i="PERSONA JUR\xcdDICA"),e.nuevo&&(a=l.year);var s=[{year_declaration:l.year},{year_fiscal:a},{tipo_persona:i},{razon_social:t.registerMinturSelected.establishment.commercially_known_name.toUpperCase()},{ruc:t.ruc_registro_selected.ruc.number},{nombre_responsable:t.user.name.toUpperCase()},{identificacion_responsable:t.user.identification},{direccion:(t.registerMinturSelected.establishment.address_main_street+" "+t.registerMinturSelected.establishment.address_number+" "+t.registerMinturSelected.establishment.address_secondary_street).toUpperCase()},{registro:t.registerMinturSelected.register.code},{nombre_declarante:t.ruc_registro_selected.ruc.contact_user.name.toUpperCase()},{identificacion_declarante:t.ruc_registro_selected.ruc.contact_user.identification}],r=[{"A\xf1o_Declaraci\xf3n":l.year},{"A\xf1o_Fiscal":n.getFullYear()},{"Raz\xf3n_Social":t.registerMinturSelected.establishment.commercially_known_name.toUpperCase()},{RUC:t.ruc_registro_selected.ruc.number},{"Direcci\xf3n":(t.registerMinturSelected.establishment.address_main_street+" "+t.registerMinturSelected.establishment.address_number+" "+t.registerMinturSelected.establishment.address_secondary_street).toUpperCase()},{Registro:t.registerMinturSelected.register.code},{Nombre_Declarante:t.ruc_registro_selected.ruc.contact_user.name.toUpperCase()},{"Identificaci\xf3n_Declarante":t.ruc_registro_selected.ruc.contact_user.identification},{Valor_Pagar_Base:e.amount_to_pay_base},{Valor_Pagar_Multas:e.amount_to_pay_fines},{Valor_Pagar_Intereses:e.amount_to_pay_taxes},{Valor_Pagar_Total:e.amount_to_pay}],o=JSON.stringify(r),u=[];t.declarationItemsCategories.forEach(function(e){if(e.tax_payer_type_id==t.ruc_registro_selected.ruc.tax_payer_type_id){var n=[];l.declaration_item_values_on_declaration.forEach(function(l){t.declarationItems.forEach(function(a){a.tax_payer_type_id==t.ruc_registro_selected.ruc.tax_payer_type_id&&a.id==l.declaration_item_id&&a.declaration_item_category_id==e.id&&n.push({declarationItem:a,valueItem:l})})}),u.push({Category:e,items:n})}}),t.exporterDataService.getPDFDeclaration(u,e,!0,o,s).then(function(e){for(var n=atob(e),a=new Array(n.length),i=0;i<n.length;i++)a[i]=n.charCodeAt(i);var s=new Uint8Array(a),r=new Blob([s],{type:"application/pdf"});Object(Y.saveAs)(r,"declaraci\xf3n_"+t.ruc_registro_selected.ruc.number+"_"+l.year+".pdf"),t.imprimiendoDeclaracion=!1}).catch(function(e){console.log(e)})}})},e.prototype.descargarDeclaracion=function(){this.downloadFile(this.declarationApprovalStateAttachment.approval_state_attachment_file,this.declarationApprovalStateAttachment.approval_state_attachment_file_type,this.declarationApprovalStateAttachment.approval_state_attachment_file_name)},e.prototype.borrarDeclaracion=function(){this.declarationApprovalStateAttachment=new y.a},e.prototype.imprimirPago=function(){},e.prototype.descargarPago=function(){this.downloadFile(this.payApprovalStateAttachment.approval_state_attachment_file,this.payApprovalStateAttachment.approval_state_attachment_file_type,this.payApprovalStateAttachment.approval_state_attachment_file_name)},e.prototype.borrarPago=function(){this.payApprovalStateAttachment=new y.a},e.prototype.CodeFileDeclaracionAttachment=function(e){var t=this,l=new FileReader;if(e.target.files&&e.target.files.length>0){var n=e.target.files[0];l.readAsDataURL(n),l.onload=function(){t.declarationApprovalStateAttachment.approval_state_attachment_file_name=n.name,t.declarationApprovalStateAttachment.approval_state_attachment_file_type=n.type,t.declarationApprovalStateAttachment.approval_state_attachment_file=l.result.toString().split(",")[1]}}},e.prototype.CodeFileComprobanteAttachment=function(e){var t=this,l=new FileReader;if(e.target.files&&e.target.files.length>0){var n=e.target.files[0];l.readAsDataURL(n),l.onload=function(){t.payApprovalStateAttachment.approval_state_attachment_file_name=n.name,t.payApprovalStateAttachment.approval_state_attachment_file_type=n.type,t.payApprovalStateAttachment.approval_state_attachment_file=l.result.toString().split(",")[1]}}},e.prototype.validateDeclaracionFile=function(){return!(""==this.declarationApprovalStateAttachment.approval_state_attachment_file_name)},e.prototype.validateComprobanteFile=function(){return!(""==this.payApprovalStateAttachment.approval_state_attachment_file_name)},e.prototype.guardarInspeccion=function(){var e=this;this.guardandoFinanciero=!0;var t=this.stateTramiteId.toString(),l=t.substring(t.length-1,t.length);if(0!=this.inspectionState){var n=new Date;this.registerApprovalFinanciero.date_fullfill=n,1==this.inspectionState&&(this.registerApprovalFinanciero.value=!0,"0"==l&&(this.newRegisterState.state_id=this.stateTramiteId),"7"==l&&(this.newRegisterState.state_id=this.stateTramiteId+3),"8"==l&&(this.newRegisterState.state_id=this.stateTramiteId+2)),2==this.inspectionState&&(this.registerApprovalFinanciero.value=!1,"0"==l&&(this.newRegisterState.state_id=this.stateTramiteId),"7"==l&&(this.newRegisterState.state_id=this.stateTramiteId+3),"8"==l&&(this.newRegisterState.state_id=this.stateTramiteId+2)),3==this.inspectionState&&(this.registerApprovalFinanciero.value=!1,"0"==l&&(this.newRegisterState.state_id=this.stateTramiteId-2),"7"==l&&(this.newRegisterState.state_id=this.stateTramiteId+1),"8"==l&&(this.newRegisterState.state_id=this.stateTramiteId)),this.newRegisterState.justification="Resultados de la Revisi\xf3n de T\xe9cnico Financiero cargados en la fecha "+n.toDateString(),this.newRegisterState.register_id=this.registerApprovalFinanciero.register_id,this.registerStateDataService.post(this.newRegisterState).then(function(e){}).catch(function(e){console.log(e)}),this.approvalStateDataService.put(this.registerApprovalFinanciero).then(function(t){e.toastr.successToastr("Datos guardados satisfactoriamente.","Revisi\xf3n, T\xe9cnico Financiero"),e.guardandoFinanciero=!1,e.refresh()}).catch(function(e){console.log(e)})}else this.toastr.errorToastr("Debe seleccionar un estado de la revisi\xf3n","Revisi\xf3n, T\xe9cnico Financiero")},e.prototype.onCellClick=function(e){var t=this;this.registers_mintur.forEach(function(l){if(l.ruc.number==e.row.number&&l.establishment.ruc_code_id==e.row.ruc_code_id){t.selectRegisterMintur(l),t.stateTramiteId=l.states.state_id,t.idRegister=e.row.registerId;var n=t.stateTramiteId.toString();t.digito=n.substring(n.length-1,n.length),t.getApprovalStates(),t.establishment_id=e.row.establishment_id,t.getDeclarationsByEstablishment(e.row.establishment_id),t.rows.forEach(function(e){e.selected=t.idRegister==e.registerId?'<div class="col-12 text-right"><span class="far fa-hand-point-right"></span></div>':""})}})},e.prototype.checkIfIsAssigned=function(){this.isAssigned=0!==this.financialSelectedId},e.prototype.checkIfHasInform=function(){},e.prototype.checkIfHasRequisites=function(){},e.prototype.checkIfHasIspectionDate=function(){},e.prototype.getApprovalStates=function(){var e=this;this.isAssigned=!1,this.hasIspectionDate=!1,this.hasInform=!1,this.hasRequisites=!1,this.registerApprovalInspector=new E.a,this.registerApprovalFinanciero=new E.a,this.registerApprovalCoordinador=new E.a,this.approvalStateDataService.get_by_register_id(this.idRegister).then(function(t){e.registerApprovals=t,e.approvalStateAttachmentDataService.get_by_register_id(e.idRegister).then(function(t){var l=t;e.registerApprovals.forEach(function(t){if(2==t.approval_id){if(t.value)e.inspectionState=1;else{e.inspectionState=2;var n=e.stateTramiteId.toString();"8"==n.substring(n.length-1,n.length)&&(e.inspectionState=3)}0==l.length&&(e.inspectionState=0,e.declarationApprovalStateAttachment=new y.a,e.declarationApprovalStateAttachment.approval_state_id=t.id,e.payApprovalStateAttachment=new y.a,e.payApprovalStateAttachment.approval_state_id=t.id),l.forEach(function(l){l.approval_state_id==t.id&&(0==l.approval_state_attachment_file_name.search("Informe")&&(e.payApprovalStateAttachment=l),0==l.approval_state_attachment_file_name.search("Formulario")&&(e.declarationApprovalStateAttachment=l))}),e.registerApprovalFinanciero=t,e.registerApprovalFinanciero.date_fullfill=new Date,void 0!==e.registerApprovalFinanciero.notes&&null!=e.registerApprovalFinanciero.notes||(e.registerApprovalFinanciero.notes=""),e.financialSelectedId=e.registerApprovalFinanciero.id_user,e.checkIfIsAssigned(),e.checkIfHasInform(),e.checkIfHasRequisites(),e.checkIfHasIspectionDate()}})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},e.prototype.getRegisterTypes=function(){var e=this;this.register_typeDataService.get().then(function(t){e.register_types=t,e.getRegistersMintur()}).catch(function(e){console.log(e)})},e.prototype.selectRegisterMintur=function(e){this.registerMinturSelected=e,this.mostrarDataRegisterMintur=!0;var t=e.states.state_id.toString();this.checkMotivoTramite(t),this.fechaSolicitud=new Date(e.register.created_at.toString()),this.getRuc(this.registerMinturSelected.ruc.number),this.getRegistersOnRuc(),this.groupTypeSelected=new K.a},e.prototype.validateGroupGivenTipe=function(){return!(this.ruc_registro_selected.ruc.tax_payer_type_id>1)||0!==this.ruc_registro_selected.ruc.group_given.group_type_id},e.prototype.getTramiteStates=function(){var e=this;this.estados_tramites=[],this.stateDataService.get().then(function(t){t.forEach(function(t){"-"==t.father_code&&e.estados_tramites.push(t)})}).catch(function(e){console.log(e)})},e.prototype.validateTariffs=function(){return!0},e.prototype.validateRuc=function(){var e=!0;return this.ruc_registro_selected.ruc.tax_payer_type_id>1?(e=this.identificationRepresentativePersonValidated,this.identificationContactValidated&&this.rucValidated&&this.mainPhoneContactValidated&&this.secondaryPhoneContactValidated&&this.emailContactValidated&&this.validateNombramiento()&&this.validateGroupGivenTipe()&&e&&this.REGCIVILOK&&this.SRIOK&&this.REGCIVILREPRESENTANTELEGALOK):this.identificationContactValidated&&this.rucValidated&&this.mainPhoneContactValidated&&this.secondaryPhoneContactValidated&&this.emailContactValidated&&this.REGCIVILOK&&this.SRIOK},e.prototype.cancelPayManual=function(){this.pay=new T.a,this.payManualAgreement=!1},e.prototype.refresh=function(){this.registerMinturSelected=new re.a,this.mostrarDataRegisterMintur=!1,this.ruc_registro_selected=new Q.a,this.pay=new T.a,this.contactUser.id=0,this.payManualAgreement=!1,this.pays=[],this.estoyVacaciones=!1,this.getZonales(),this.getDeclarationStates(),this.getTramiteStates(),this.getDeclarationCategories(),this.getDeclarationItems(),this.getMaxDeclarationDate(),this.getTaxPayerType(),this.getGroupType(),this.getStates(),this.getZonalesEstablishment(),this.getUbications()},e.prototype.getZonales=function(){var e=this;this.consultorDataService.get_zonales().then(function(t){e.zonales=t}).catch(function(e){console.log(e)})},e.prototype.getUbications=function(){var e=this;this.ubications=[],this.ubicationDataService.get().then(function(t){e.ubications=t}).catch(function(e){console.log(e)})},e.prototype.getInspectores=function(){var e=this;this.inspectores=[],this.userDataService.get_by_rol("5").then(function(t){e.inspectores=t}).catch(function(e){console.log(e)})},e.prototype.getFinancieros=function(){var e=this;this.financieros=[],this.userDataService.get_by_rol("6").then(function(t){e.financieros=t}).catch(function(e){console.log(e)})},e.prototype.actualizarDeclaracion=function(){var e=this,t=new Pe.a;t.declaration_id=this.declaration_selected.id,t.state_id=this.declaration_selected.status.id,t.moment=new Date,this.declarationstates.forEach(function(e){e.id==t.state_id&&(t.justification=e.name+" en la fecha "+t.moment.toDateString())}),this.stateDeclaratonDataService.post(t).then(function(t){e.toastr.successToastr("Datos guardados satisfactoriamente.","Declaraci\xf3n"),e.refresh()}).catch(function(e){console.log(e)})},e.prototype.getDeclarationCategories=function(){var e=this;this.declarationItemCategoryDataService.get().then(function(t){e.declarationItemsCategories=t}).catch(function(e){console.log(e)})},e.prototype.getDeclarationItems=function(){var e=this;this.declarationItemDataService.get().then(function(t){e.declarationItems=t}).catch(function(e){console.log(e)})},e.prototype.newDeclaration=function(){this.declaration_selected=new P.a,this.mostrarDataDeclaration=!0,this.guardando=!1,this.buildDeclarationItemsToShow()},e.prototype.mostrarFechaMaximaPago=function(){return void 0!==this.declaration_selected.max_date_to_pay},e.prototype.getMaxDeclarationDate=function(){var e=new Date;this.maxYear=e.getFullYear()},e.prototype.getComplementaryFoodServiceType=function(){var e=this;this.complementaryServiceFoodTypeDataService.get().then(function(t){e.complementaryServiceFoodTypes=t}).catch(function(e){console.log(e)})},e.prototype.buildDeclarationItemsToShow=function(){var e=this;this.declarationItemsToShow=[],this.declarationItemsCategories.forEach(function(t){if(t.total=0,t.tax_payer_type_id==e.ruc_registro_selected.ruc.tax_payer_type_id){var l=[];e.declarationItems.forEach(function(n){if(n.declaration_item_category_id==t.id){var a=new D.a;a.declaration_item_id=n.id,n.tax_payer_type_id==e.ruc_registro_selected.ruc.tax_payer_type_id&&l.push({declarationItem:n,valueItem:a}),t.total+=a.value*n.factor}}),e.declarationItemsToShow.push({Category:t,items:l})}}),this.calcularUnoxMil()},e.prototype.addComplementaryFoodService=function(){var e=new x.a;this.rucEstablishmentRegisterSelected.complementary_service_foods_on_register.push(e)},e.prototype.selectComplementaryFoodService=function(e){this.complementaryServiceFoodSelected=e},e.prototype.removeComplementaryFoodService=function(e){var t=[];this.rucEstablishmentRegisterSelected.complementary_service_foods_on_register.forEach(function(l){l!==e&&t.push(l)}),this.rucEstablishmentRegisterSelected.complementary_service_foods_on_register=t},e.prototype.getTerminosCondicionesAgreement=function(){var e=this;this.agreementDataService.get(1).then(function(t){e.terminosCondicionesAgreement=t.Agreement,e.terminosCondicionesAgreement.content=e.terminosCondicionesAgreement.content.replace("##USER##","<strong>"+e.user.name.toUpperCase()+"</strong>"),e.terminosCondicionesAgreement.content=e.terminosCondicionesAgreement.content.replace("##RUC##","<strong>"+e.user.ruc+"</strong>")}).catch(function(e){console.log(e)})},e.prototype.actualizarValorPagar=function(e){e.amount_to_pay=1*e.amount_to_pay_base+1*e.amount_to_pay_fines+1*e.amount_to_pay_taxes},e.prototype.getRuc=function(e){var t=this;this.rucDataService.get_filtered(e).then(function(l){void 0===l.Ruc?(t.ruc_registro_selected.ruc=new be.a,t.ruc_registro_selected.ruc.establishments=[],t.ruc_registro_selected.ruc.number=e,t.ruc_registro_selected.ruc.contact_user=new ve.a,t.ruc_registro_selected.ruc.establishments=[],t.ruc_registro_selected.ruc.group_given=new ye.a,t.ruc_registro_selected.ruc.person_representative=new Ce.a,t.ruc_registro_selected.ruc.tax_payer_type_id=0,t.ruc_registro_selected.ruc.contact_user_id=0,t.ruc_registro_selected.ruc.person_representative.identification=t.user.identification,t.checkIdentificationRepresentant(),t.checkRuc()):(t.ruc_registro_selected.ruc=l.Ruc,t.getPays(),t.getRegistersOnRuc(),t.ruc_registro_selected.ruc.establishments=[],t.ruc_registro_selected.ruc.contact_user=l.contact_user,t.contactUser=l.contact_user,"0"==l.group_given?t.ruc_registro_selected.ruc.group_given=new ye.a:(t.ruc_registro_selected.ruc.group_given=l.group_given,t.group_types=[],t.group_typeDataService.get().then(function(e){t.group_types=e,t.setGroupTypeSelected(t.ruc_registro_selected.ruc.group_given.group_type_id)}).catch(function(e){return console.log(e)})),t.ruc_registro_selected.ruc.person_representative="0"==l.person_representative?new Ce.a:l.person_representative,t.ruc_registro_selected.ruc.person_representative_attachment=new Ee.a,t.ruc_registro_selected.ruc.tax_payer_type_id>1&&t.getPersonRepresentativeAttachment(t.ruc_registro_selected.ruc.number),t.consumoCedula=!1,t.consumoCedulaEstablishmentContact=!1,t.consumoRuc=!1,t.consumoCedulaRepresentanteLegal=!1,t.SRIOK=!1,t.REGCIVILOK=!1,t.REGCIVILOKEstablishment=!1,t.REGCIVILREPRESENTANTELEGALOK=!1,t.checkRuc(),t.checkIdentificationRepresentant(),t.getEstablishmentsOnRuc(t.currentPageEstablishment))}).catch(function(e){console.log(e)})},e.prototype.selectPay=function(e){this.paySelectedOrders=e},e.prototype.getPays=function(){var e=this;this.payManualAgreement=!1,this.paySelectedOrders=new T.a,this.payDataService.get_by_ruc_id(this.ruc_registro_selected.ruc.id).then(function(t){e.pays=t,e.pays.forEach(function(e){null!=e.pay_attachment&&void 0!==e.pay_attachment||(e.pay_attachment=new Ue.a)}),0==e.pays.length&&(e.pay=new T.a),e.buildPays()}).catch(function(e){console.log(e)})},e.prototype.buildPays=function(){var e=this;this.payTaxDataService.get().then(function(t){e.paytaxes=t,e.pays_calc=[],e.declarations.forEach(function(t){e.calcTaxes(t)})}).catch(function(e){console.log(e)})},e.prototype.checkImContactRuc=function(){this.imContactRuc&&(this.ruc_registro_selected.ruc.contact_user.id=this.user.id,this.ruc_registro_selected.ruc.contact_user=this.user,this.identificationContactValidated=!0,this.consumoCedula=!0,this.mainPhoneContactValidated=!0,this.secondaryPhoneContactValidated=!0,this.emailContactValidated=!0,this.REGCIVILOK=!0)},e.prototype.getEstablishmentsOnRuc=function(e){var t=this;this.declaration_selected=new P.a,this.establishment_selected=new J.a,this.mostrarDataEstablishment=!1,this.establishmentDataService.getByRuc(this.ruc_registro_selected.ruc.number,this.recordsByPageEstablishment,e).then(function(e){0==e.data.length?t.ruc_registro_selected.ruc.establishments=[]:(t.ruc_registro_selected.ruc.establishments=e.data,t.buildDataTableEstablishment())}).catch(function(e){console.log(e)})},e.prototype.getPersonRepresentativeAttachment=function(e){var t=this;this.personRepresentativeAttachmentDataService.get_filtered(e).then(function(e){t.ruc_registro_selected.ruc.person_representative_attachment="0"==e?new Ee.a:e}).catch(function(e){console.log(e)})},e.prototype.getCertificationTypes=function(){var e=this;this.establishment_certification_types=[],this.establishment_certification_typeDataService.get().then(function(t){e.establishment_certification_types=t}).catch(function(e){console.log(e)})},e.prototype.validateNombramiento=function(){return this.ruc_registro_selected.ruc.tax_payer_type_id<=1||!(""==this.ruc_registro_selected.ruc.person_representative_attachment.person_representative_attachment_file_name)},e.prototype.getUser=function(){var e=this;this.roles=JSON.parse(sessionStorage.getItem("roles")),this.userDataService.get(JSON.parse(sessionStorage.getItem("user")).id).then(function(t){e.user=t,e.getTerminosCondicionesAgreement()}).catch(function(e){return console.log(e)})},e.prototype.CodeFilePersonRepresentativeAttachment=function(e){var t=this,l=new FileReader;if(e.target.files&&e.target.files.length>0){var n=e.target.files[0];l.readAsDataURL(n),l.onload=function(){t.ruc_registro_selected.ruc.person_representative_attachment.person_representative_attachment_file_name=n.name,t.ruc_registro_selected.ruc.person_representative_attachment.person_representative_attachment_file_type=n.type,t.ruc_registro_selected.ruc.person_representative_attachment.person_representative_attachment_file=l.result.toString().split(",")[1]}}},e.prototype.borrarNombramiento=function(){this.ruc_registro_selected.ruc.person_representative_attachment.person_representative_attachment_file="",this.ruc_registro_selected.ruc.person_representative_attachment.person_representative_attachment_file_type="",this.ruc_registro_selected.ruc.person_representative_attachment.person_representative_attachment_file_name=""},e.prototype.descargarNombramiento=function(){this.downloadFile(this.ruc_registro_selected.ruc.person_representative_attachment.person_representative_attachment_file,this.ruc_registro_selected.ruc.person_representative_attachment.person_representative_attachment_file_type,this.ruc_registro_selected.ruc.person_representative_attachment.person_representative_attachment_file_name)},e.prototype.getCapacityTypes=function(){var e=this;this.alowed_capacity_types=[],this.capacityTypeDataService.get_filtered_by_register_type(this.rucEstablishmentRegisterSelected.register_type_id).then(function(t){e.alowed_capacity_types=t}).catch(function(e){console.log(e)})},e.prototype.refreshEstablishment=function(){this.goToPageEstablishment(this.currentPageEstablishment)},e.prototype.getStates=function(){var e=this;this.states=[],this.stateDataService.get().then(function(t){e.states=t,e.getStatesAlojamiento()}).catch(function(e){console.log(e)})},e.prototype.getStatesAlojamiento=function(){var e=this;this.statesAlojamiento=[],this.stateAlojamientoDataService.get().then(function(t){e.statesAlojamiento=t,e.getRegisterTypes(),e.getSpecificStates()}).catch(function(e){console.log(e)})},e.prototype.getRegisterCategory=function(e){var t="",l="";return this.register_types.forEach(function(n){n.id==e&&(t=n.name,l=n.father_code)}),this.register_types.forEach(function(e){e.code==l&&(t=e.name+" - "+t)}),t},e.prototype.getRegisterState=function(e){var t="",l="";return this.statesAlojamiento.forEach(function(n){n.id==e&&(t=n.name,l=n.father_code)}),this.statesAlojamiento.forEach(function(e){e.code==l&&(t=e.name+" - "+t)}),t},e.prototype.getClasifications=function(){var e=this;this.clasifications_registers=[],this.categorySelectedCode="-",this.showRequisites=!1,this.register_typeDataService.get_filtered("-").then(function(t){e.clasifications_registers=t}).catch(function(e){console.log(e)})},e.prototype.getRucNameTypes=function(){var e=this;this.ruc_name_types=[],this.rucNameTypeDataService.get().then(function(t){e.ruc_name_types=t}).catch(function(e){console.log(e)})},e.prototype.getDeclarationsByEstablishment=function(e){var t=this;this.declarations=[],this.declarationDataService.get_by_establishment(e).then(function(e){t.declarations=e}).catch(function(e){console.log(e)})},e.prototype.nuevaOrdenDePago=function(){this.pay=new T.a},e.prototype.selectDeclaration=function(e){var t=this;this.declaration_selected=e,this.getDeclarationAttachment(e.id),this.mostrarDataDeclaration=!0,this.declarationItemsToShow=[],this.guardando=!1,this.declarationItemsCategories.forEach(function(l){if(l.tax_payer_type_id==t.ruc_registro_selected.ruc.tax_payer_type_id){var n=[];e.declaration_item_values_on_declaration.forEach(function(e){t.declarationItems.forEach(function(a){a.tax_payer_type_id==t.ruc_registro_selected.ruc.tax_payer_type_id&&a.id==e.declaration_item_id&&a.declaration_item_category_id==l.id&&n.push({declarationItem:a,valueItem:e})})}),t.declarationItemsToShow.push({Category:l,items:n})}}),this.calcularUnoxMil(),this.calcTotalPartials()},e.prototype.calcTotalPartials=function(){this.declarationItemsToShow.forEach(function(e){e.Category.total=0,e.items.forEach(function(t){e.Category.total+=t.valueItem.value*t.declarationItem.factor})})},e.prototype.calcTaxes=function(e){var t=this,l=[];this.declarationItemsCategories.forEach(function(n){if(n.tax_payer_type_id==t.ruc_registro_selected.ruc.tax_payer_type_id){var a=[];e.declaration_item_values_on_declaration.forEach(function(e){t.declarationItems.forEach(function(l){l.tax_payer_type_id==t.ruc_registro_selected.ruc.tax_payer_type_id&&l.id==e.declaration_item_id&&l.declaration_item_category_id==n.id&&a.push({declarationItem:l,valueItem:e})})}),l.push({Category:n,items:a})}});var n=0;l.forEach(function(e){e.items.forEach(function(e){n+=e.valueItem.value*e.declarationItem.factor})});var a=[.03,.011,.011,.011,.011,.011,.011],i=0,s=[{month:0,trimester:1},{month:1,trimester:1},{month:2,trimester:1},{month:3,trimester:2},{month:4,trimester:2},{month:5,trimester:2},{month:6,trimester:3},{month:7,trimester:3},{month:8,trimester:3},{month:9,trimester:4},{month:10,trimester:4},{month:11,trimester:4}],r=0;this.paytaxes.forEach(function(t){t.year>=e.year&&s.forEach(function(e){e.trimester==t.trimester&&(i+=1*t.value,r+=1)})});var o=new Date;this.paytaxes.forEach(function(t){t.year==e.year&&s.forEach(function(e){e.month<7&&e.trimester==t.trimester&&(i-=1*t.value,r-=1)}),t.year==o.getFullYear()&&s.forEach(function(e){e.month>o.getMonth()&&e.trimester==t.trimester&&(i-=1*t.value,r-=1)})});var u=0;if(r>0)for(var c=1;c<=r;c++)c<=a.length&&(u+=1*a[c-1]);var d=n/1e3,h=i/100,p=new T.a;p.amount_to_pay_base=this.rounded(d),p.amount_to_pay_fines=this.rounded(d*u),p.amount_to_pay_taxes=this.rounded(d*h),p.amount_to_pay=this.rounded(p.amount_to_pay_base+p.amount_to_pay_fines+p.amount_to_pay_taxes),p.code=e.year.toString(),this.pays_calc.push(p)},e.prototype.rounded=function(e){return Math.round(100*e)/100},e.prototype.encerarAllDeclaracion=function(e){xe.a.fire({title:"Confirmaci\xf3n",text:"\xbfEst\xe1 seguro que desea encerar la declaraci\xf3n?",type:"warning",showCancelButton:!0,confirmButtonText:"Si, continuar",cancelButtonText:"No, cancelar",reverseButtons:!0}).then(function(t){t.value?(xe.a.fire("Confirmado!","Los valores de la declaraci\xf3n han sido encerados","success"),e.amount_to_pay_base=0,e.amount_to_pay_fines=0,e.amount_to_pay_taxes=0,e.amount_to_pay=e.amount_to_pay_base+e.amount_to_pay_fines+e.amount_to_pay_taxes):t.dismiss===xe.a.DismissReason.cancel&&xe.a.fire("Cancelado","","error")})},e.prototype.encerarDeclaracion=function(e){e.amount_to_pay_fines=0,e.amount_to_pay_taxes=0,e.amount_to_pay=e.amount_to_pay_base+e.amount_to_pay_fines+e.amount_to_pay_taxes},e.prototype.getDeclarationAttachment=function(e){var t=this;this.declarationAttachmentDataService.get_by_declaration_id(e).then(function(e){t.balance=e}).catch(function(e){console.log(e)})},e.prototype.guardarDeclaracion=function(){var e=this;this.declaration_selected.declaration_item_values_on_declaration=[],this.declarationItemsToShow.forEach(function(t){t.items.forEach(function(t){e.declaration_selected.declaration_item_values_on_declaration.push(t.valueItem)})}),this.guardando=!0,this.declaration_selected.establishment_id=this.establishment_declarations_selected.id,this.declarationDataService.register_data(this.declaration_selected).then(function(t){e.guardando=!1,"0"!==t?(e.toastr.successToastr("Datos guardados satisfactoriamente.","Declaraci\xf3n"),e.getEstablishmentsOnRuc(e.currentPageEstablishment),e.establishment_declarations_selected=new J.a,e.mostrarDataDeclaration=!1):e.toastr.errorToastr("Existe conflicto la informaci\xf3n proporcionada.","Declaraci\xf3n")}).catch(function(t){e.guardando=!1,e.toastr.errorToastr("Existe conflicto la informaci\xf3n proporcionada.","Declaraci\xf3n")})},e.prototype.guardarRUC=function(){var e=this;this.validateRuc()?(this.REGCIVILOK||this.toastr.errorToastr("Esperando confirmaci\xf3n del Registro Civil","Registro Civil"),this.SRIOK||this.toastr.errorToastr("Esperando confirmaci\xf3n del SRI","SRI"),this.SRIOK&&this.REGCIVILOK&&(this.ruc_registro_selected.ruc.contact_user.ruc=this.ruc_registro_selected.ruc.number,this.ruc_registro_selected.ruc.person_representative_attachment.ruc=this.ruc_registro_selected.ruc.number,this.guardando=!0,void 0===this.ruc_registro_selected.ruc.id?this.rucDataService.register_ruc(this.ruc_registro_selected.ruc).then(function(t){e.guardando=!1,"0"!==t?(e.toastr.successToastr("Datos guardados satisfactoriamente.","Nuevo"),e.refresh()):e.toastr.errorToastr("Existe conflicto con el correo de la persona de contacto ingresada.","Nuevo")}).catch(function(t){e.guardando=!1,e.toastr.errorToastr("Existe conflicto la informaci\xf3n proporcionada.","Nuevo")}):this.rucDataService.update_ruc(this.ruc_registro_selected.ruc).then(function(t){e.guardando=!1,"0"!==t?(e.toastr.successToastr("Registro actualizado satisfactoriamente.","Actualizar"),e.refresh()):e.toastr.errorToastr("Existe conflicto con el correo de la persona de contacto ingresada.","Actualizar")}).catch(function(t){e.guardando=!1,e.toastr.errorToastr("Existe conflicto la informaci\xf3n proporcionada.","Nuevo")}))):this.toastr.errorToastr("Existe conflicto con la informaci\xf3n ingresada.","Nuevo")},e.prototype.guardarRegistro=function(){var e=this;this.guardando=!0,this.registerDataService.register_register_data(this.rucEstablishmentRegisterSelected).then(function(t){e.guardando=!1,e.refresh()}).catch(function(t){e.guardando=!1,e.toastr.errorToastr("Existe conflicto la informaci\xf3n proporcionada.","Nuevo")})},e.prototype.checkAgreement=function(){this.terminosCondiciones&&this.refresh()},e.prototype.getRegistersOnRuc=function(){var e=this;this.rucEstablishmentRegisterSelected=new re.a,this.mostrarDataRegister=!1,this.registerDataService.get_registers_by_ruc(this.user.ruc).then(function(t){e.ruc_registro_selected.registers=t,e.buildDataTableRegister()}).catch(function(e){console.log(e)})},e.prototype.onCellClickEstablishmentDeclaration=function(e){var t=this;this.ruc_registro_selected.ruc.establishments.forEach(function(l){l.ruc_code_id==e.row.code&&t.selectRegisterEstablishmentDeclaration(l)}),this.rowsEstablishment.forEach(function(t){t.selected=t.code==e.row.code?'<div class="col-12 text-right"><span class="far fa-hand-point-right"></span></div>':""})},e.prototype.getTariffs=function(){var e=this;this.tarifas=[],this.tariffTypeDataService.get().then(function(t){var l=t;l.forEach(function(t){if("-"==t.father_code){var n=t,a=[];l.forEach(function(e){e.father_code==t.code&&a.push(e)}),e.tarifas.push({father:n,childs:a})}})}).catch(function(e){console.log(e)})},e.prototype.getEstablishmentWorkerGroup=function(){var e=this,t=[];return this.genders.forEach(function(l){e.worker_groups.forEach(function(e){var n=new se.a;n.gender_id=l.id,n.gender_name=l.name,n.worker_group_id=e.id,n.worker_group_name=e.name,n.is_max=e.is_max,t.push(n)})}),t},e.prototype.getComplementaryServiceType=function(e){var t=this;this.complementary_service_types=[],this.complementary_service_typeDataService.get_filtered(e).then(function(e){t.complementary_service_types=e}).catch(function(e){return console.log(e)})},e.prototype.getAllowedInfo=function(){this.getRequisitesByRegisterType(),this.getBedTypes(),this.getCapacityTypes()},e.prototype.getBedTypes=function(){var e=this;this.alowed_bed_types=[],this.bedTypeDataService.get_filtered_by_register_type(this.rucEstablishmentRegisterSelected.register_type_id).then(function(t){e.alowed_bed_types=t}).catch(function(e){return console.log(e)})},e.prototype.getRequisitesByRegisterType=function(){var e=this,t=[];this.requisitesByRegisterType=[],this.rucEstablishmentRegisterSelected.requisites=[],this.showRequisites=!1,this.requisiteDataService.get_filtered(this.rucEstablishmentRegisterSelected.register_type_id).then(function(l){e.requisitesByRegisterType=l,e.requisitesByRegisterType.forEach(function(l){var n=!1;if(e.rucEstablishmentRegisterSelected.requisites.forEach(function(e){e.requisite_name==l.name&&(n=!0)}),!n){var a=new j.a;a.requisite_name=l.name,a.requisite_id=l.id,a.fullfill=!0,a.requisite_father_code=l.father_code,t.push(a)}}),e.showRequisites=!0;var n=[];t.forEach(function(e){"-"==e.requisite_father_code&&n.push(e)}),n.forEach(function(l){e.rucEstablishmentRegisterSelected.requisites.push(l),t.forEach(function(t){t.requisite_father_code==l.requisite_id.toString()&&e.rucEstablishmentRegisterSelected.requisites.push(t)})})}).catch(function(e){return console.log(e)})},e.prototype.getComplementaryServiceTypeCategories=function(){var e=this;this.complementary_service_types_categories=[],this.complementary_service_typeDataService.get_filtered("-").then(function(t){e.complementary_service_types_categories=t}).catch(function(e){return console.log(e)})},e.prototype.getCategories=function(){var e=this;this.categories_registers=[],this.rucEstablishmentRegisterSelected.requisites=[],this.register_typeDataService.get_filtered(this.categorySelectedCode).then(function(t){e.categories_registers=t}).catch(function(e){console.log(e)})},e.prototype.getEstablishmentCertificationTypesCategories=function(){var e=this;this.establishment_certification_types_categories=[],this.establishment_certification_typeDataService.get_filtered("-").then(function(t){e.establishment_certification_types_categories=t}).catch(function(e){return console.log(e)})},e.prototype.getEstablishmentCertificationTypesSpecific=function(e){e.establishment_certification_type_specifics=[],this.establishment_certification_typeDataService.get_filtered(e.establishment_certification_type_fatherCode).then(function(t){e.establishment_certification_type_specifics=t}).catch(function(e){return console.log(e)})},e.prototype.getEstablishmentPropertyType=function(){var e=this;this.establishment_property_types=[],this.establishment_property_typeDataService.get().then(function(t){e.establishment_property_types=t}).catch(function(e){return console.log(e)})},e.prototype.borrarCertificado=function(e){e.establishment_certification_attachment=new N.a},e.prototype.getGenders=function(){var e=this;this.genders=[],this.genderDataService.get().then(function(t){e.genders=t,e.buildWorkerGroups()}).catch(function(e){return console.log(e)})},e.prototype.getSystemNames=function(){var e=this;this.system_names=[],this.systemNameDataService.get().then(function(t){e.system_names=t}).catch(function(e){return console.log(e)})},e.prototype.getZonalesEstablishment=function(){var e=this;this.zonalesEstablishment=[],this.provinciasEstablishment=[],this.cantonesEstablishment=[],this.parroquiasEstablishment=[],this.zonalEstablishmentSelectedCode="-",this.provinciaEstablishmentSelectedCode="-",this.cantonEstablishmentSelectedCode="-",this.establishment_selected.ubication_id=0,this.ubicationDataService.get_filtered("-").then(function(t){e.zonalesEstablishment=t,t.forEach(function(t){e.ubicationDataService.get_filtered(t.code).then(function(t){t.forEach(function(t){e.provinciasEstablishment.push(t)}),e.provinciasEstablishment.sort()}).catch(function(e){console.log(e)})})}).catch(function(e){console.log(e)})},e.prototype.getCantonesEstablishment=function(){var e=this;this.provinciasEstablishment.forEach(function(t){t.code==e.provinciaEstablishmentSelectedCode&&(e.zonalEstablishmentSelectedCode=t.father_code.toString(),e.establishment_selected.address_map_latitude=t.gmap_reference_latitude,e.establishment_selected.address_map_longitude=t.gmap_reference_longitude)}),this.cantonesEstablishment=[],this.parroquiasEstablishment=[],this.cantonEstablishmentSelectedCode="-",this.establishment_selected.ubication_id=0,this.ubicationDataService.get_filtered(this.provinciaEstablishmentSelectedCode).then(function(t){e.cantonesEstablishment=t}).catch(function(e){console.log(e)})},e.prototype.getCantonesEstablishmentRecovery=function(){var e=this;this.ubicationDataService.get_filtered(this.provinciaEstablishmentSelectedCode).then(function(t){e.cantonesEstablishment=t}).catch(function(e){console.log(e)})},e.prototype.getParroquiasEstablishmentRecovery=function(){var e=this;this.ubicationDataService.get_filtered(this.cantonEstablishmentSelectedCode).then(function(t){e.parroquiasEstablishment=t}).catch(function(e){console.log(e)})},e.prototype.updateGmap=function(){var e=this;this.parroquiasEstablishment.forEach(function(t){t.id==e.establishment_selected.ubication_id&&(e.establishment_selected.address_map_latitude=t.gmap_reference_latitude,e.establishment_selected.address_map_longitude=t.gmap_reference_longitude)})},e.prototype.getParroquiasEstablishment=function(){var e=this;this.parroquiasEstablishment=[],this.establishment_selected.ubication_id=0,this.cantonesEstablishment.forEach(function(t){t.code==e.cantonEstablishmentSelectedCode&&(e.establishment_selected.address_map_latitude=t.gmap_reference_latitude,e.establishment_selected.address_map_longitude=t.gmap_reference_longitude)}),this.ubicationDataService.get_filtered(this.cantonEstablishmentSelectedCode).then(function(t){e.parroquiasEstablishment=t}).catch(function(e){console.log(e)})},e.prototype.getMaxBed=function(e){this.alowed_capacity_types.forEach(function(t){t.id==e.capacity_type_id&&(e.editable_beds=t.editable_beds,e.editable_spaces=t.editable_spaces)})},e.prototype.setGroupTypeSelected=function(e){var t=this;this.groupTypeSelected=new K.a,this.group_types.forEach(function(l){l.id==e&&(t.groupTypeSelected=l)})},e.prototype.getGroupType=function(){var e=this;this.group_types=[],this.group_typeDataService.get().then(function(t){e.group_types=t}).catch(function(e){return console.log(e)})},e.prototype.validateEstablecimiento=function(){return!!("-"!==this.establishment_selected.ruc_code_id&&0!==this.establishment_selected.ruc_name_type_id&&this.establishmentComercialNameValidated&&0!==this.establishment_selected.establishment_property_type_id&&this.urlwebEstablishmentValidated&&0!==this.establishment_selected.ubication_id&&this.addressEstablishmentValidated&&""!==this.establishment_selected.address_reference&&this.identificationContactEstablishmentValidated&&this.mainPhoneContactEstablishmentValidated&&this.secondaryPhoneContactEstablishmentValidated&&this.emailContactEstablishmentValidated&&this.REGCIVILOKEstablishment)},e.prototype.validateWorkers=function(){var e=this,t=!0;return this.genders.forEach(function(l){var n=0;e.establishment_selected.workers_on_establishment.forEach(function(e){e.gender_name==l.name&&e.is_max&&(n=e.count)}),e.establishment_selected.workers_on_establishment.forEach(function(e){e.gender_name==l.name&&e.count>n&&(t=!1)})}),t},e.prototype.guardarEstablecimiento=function(){var e=this;if("2.17.1"!=this.cantonEstablishmentSelectedCode)if(this.validateWorkers())if(this.validateEstablecimiento())if(this.REGCIVILOKEstablishment)if(""!==this.establishment_selected_picture.establishment_picture_file)if(this.secondaryPhoneContactEstablishmentValidated){if(this.REGCIVILOKEstablishment){if(this.guardando=!0,this.establishment_selected.ruc_id=this.ruc_registro_selected.ruc.id,this.establishment_declarations_selected=this.establishment_selected,this.establishment_selected.ruc_name_type_id<=1)this.establishment_selected.franchise_chain_name="";else if(""==this.establishment_selected.franchise_chain_name)return void this.toastr.errorToastr("Escriba el nombre de la Franquicia o Cadena","Nuevo");this.establishmentDataService.register_establishment_data(this.establishment_selected).then(function(t){e.guardando=!1,"0"!==t?(e.establishment_declarations_selected.id=t.id,void 0===e.establishment_selected_picture.id?(e.establishment_selected_picture.establishment_id=t.id,e.establishmentPictureDataService.post(e.establishment_selected_picture).then(function(t){e.selectRegisterEstablishment(e.establishment_selected),e.toastr.successToastr("Datos guardados satisfactoriamente.","Nuevo")}).catch(function(e){return console.log(e)})):e.establishmentPictureDataService.put(e.establishment_selected_picture).then(function(t){e.selectRegisterEstablishment(e.establishment_selected),e.toastr.successToastr("Datos guardados satisfactoriamente.","Nuevo")}).catch(function(e){return console.log(e)})):e.toastr.errorToastr("Existe conflicto con el correo de la persona de contacto ingresada.","Nuevo")}).catch(function(t){e.guardando=!1,e.toastr.errorToastr("Existe conflicto con la informaci\xf3n ingresada.","Nuevo")})}}else this.toastr.errorToastr("Existe conflicto con la informaci\xf3n del contacto del establecimiento","Informaci\xf3n");else this.toastr.errorToastr("Debe cargar la fotograf\xeda de la fachada del establecimiento","Fotograf\xeda de Fachada del Establecimiento");else this.toastr.errorToastr("Esperando confirmaci\xf3n del Registro Civil","Registro Civil");else this.toastr.errorToastr("Existe conflicto con la informaci\xf3n ingresada.","Nuevo");else this.toastr.errorToastr("Existe conflicto con la informaci\xf3n ingresada referente a los Trabajadores en el Establecimiento.","Nuevo");else this.toastr.errorToastr('Estimado Usuario, para solicitar el Certificado de Registro de Turismo de establecimientos ubicados en el Cant\xf3n Quito, por favor acercarse a las oficinas de "Quito Turismo"',"Nuevo")},e.prototype.newRegisterRecord=function(){this.rucEstablishmentRegisterSelected=new re.a,this.mostrarDataRegister=!0},e.prototype.checkRuc=function(){var e=this;if(!this.consumoRuc||!this.SRIOK){if(this.rucData='<div class="progress mb-3"><div class="progress-bar progress-bar-striped progress-bar-animated bg-warning col-12">Espere...</div></div><div class="col-12 text-center"><strong>Conect\xe1ndose al SRI...</strong></div>',this.ruc_registro_selected.ruc.number=this.ruc_registro_selected.ruc.number.replace(/[^\d]/,""),13!==this.ruc_registro_selected.ruc.number.length)return this.rucValidated=!1,this.consumoRuc=!1,this.ruc_registro_selected.ruc.baised_accounting=!1,void(this.ruc_registro_selected.ruc.tax_payer_type_id=1);this.consumoRuc||(this.consumoRuc=!0,this.rucValidated=!0,this.dinardapDataService.get_super_cias(this.ruc_registro_selected.ruc.number).then(function(t){e.superciasData="",0!==t.companias&&t.companias.original.entidades.entidad.forEach(function(t){"Superintendencia de Compa\xf1ias Datos Compan\xeda"==t.nombre&&t.filas.fila.columnas.columna.forEach(function(t){"expediente"==t.campo&&(e.superciasData+="<strong>N\xfamero de Expediente: </strong> "+t.valor+"<br/>","{}"!==JSON.stringify(t.valor)&&(e.ruc_registro_selected.ruc.group_given.register_code=t.valor)),"objeto_social"==t.campo&&(e.superciasData+="<strong>Objeto Social: </strong> "+t.valor+"<br/>")})})}).catch(function(e){console.log(e)}),this.dinardapDataService.get_RUC(this.ruc_registro_selected.ruc.number).then(function(t){e.SRIOK=!0,e.rucValidated=!0;var l=t.sri_ruc.original.entidades.entidad.filas.fila.columnas.columna,n=t.sri_ruc_completo.original.entidades.entidad;e.establishment_selected.ruc_code_id="-",e.rucData="";var a="",i="",s="",r="";n.forEach(function(t){"Actividad Economica"==t.nombre&&t.filas.fila.columnas.columna.forEach(function(e){"actividadGeneral"==e.campo&&(s+="<strong>Actividad Econ\xf3mica: </strong> "+e.valor+"<br/>")}),"Contribuyente Datos Completo"==t.nombre&&t.filas.fila.columnas.columna.forEach(function(e){"razonSocial"==e.campo&&(a+="<strong>Raz\xf3n Social: </strong> "+e.valor+"<br/>"),"email"==e.campo&&"{}"!==JSON.stringify(e.valor)&&(r+="<strong>Correo Electr\xf3nico - Registrado en SRI: </strong> "+e.valor+"<br/>"),"telefonoDomicilio"==e.campo&&"{}"!==JSON.stringify(e.valor)&&(r+="<strong>Tel\xe9fono Domicilio - Registrado en SRI: </strong> "+e.valor+"<br/>")}),"Representante Legal"==t.nombre&&t.filas.fila.columnas.columna.forEach(function(t){"identificacion"==t.campo&&(i+="<strong>Identificaci\xf3n Representante Legal: </strong> "+t.valor+"<br/>","{}"!==JSON.stringify(t.valor)&&(e.ruc_registro_selected.ruc.person_representative.identification=t.valor,e.consumoCedulaRepresentanteLegal=!1,e.REGCIVILREPRESENTANTELEGALOK=!1,e.checkIdentificationRepresentant())),"nombre"==t.campo&&(i+="<strong>Nombre Representante Legal: </strong> "+t.valor+"<br/>")})}),l.forEach(function(t){"estadoContribuyente"==t.campo&&(a+="<strong>Estado Contribuyente: </strong> "+t.valor+"<br/>"),"fechaInscripcionRuc"==t.campo&&(a+="<strong>Fecha de Inscripci\xf3n del RUC: </strong> "+t.valor+"<br/>"),"fechaActualizacion"==t.campo&&(a+="<strong>Fecha de Actualizaci\xf3n: </strong> "+t.valor+"<br/>"),"obligado"==t.campo&&("N"==t.valor?(e.ruc_registro_selected.ruc.baised_accounting=!1,a+="<strong>Obligado a Llevar Contabilidad: </strong> NO<br/>"):(e.ruc_registro_selected.ruc.baised_accounting=!0,a+="<strong>Obligado a Llevar Contabilidad: </strong> SI<br/>")),"personaSociedad"==t.campo&&(e.ruc_registro_selected.ruc.tax_payer_type_id="PNL"==t.valor?1:2,a+="<strong>Tipo de Contribuyente: </strong> "+t.valor+"<br/>"),e.rucData=a+s+r,1!=e.ruc_registro_selected.ruc.tax_payer_type_id&&(e.rucData+=i)})}).catch(function(t){console.log(t),e.rucData='<div class="alert alert-danger" role="alert">El SRI, no respondi\xf3. Vuelva a intentarlo.</div>',e.consumoRuc=!1,e.SRIOK=!1}))}},e.prototype.checkCedula=function(){var e=this;if(this.ruc_registro_selected.ruc.contact_user.identification=this.ruc_registro_selected.ruc.contact_user.identification.replace(/[^\d]/,""),10!==this.ruc_registro_selected.ruc.contact_user.identification.length)return this.identificationContactValidated=!1,void(this.consumoCedula=!1);this.consumoCedula&&this.REGCIVILOK||(this.cedulaData='<div class="progress mb-3"><div class="progress-bar progress-bar-striped progress-bar-animated bg-warning col-12">Espere...</div></div><div class="col-12 text-center"><strong>Conect\xe1ndose al Registro Civil...</strong></div>',this.ruc_registro_selected.ruc.contact_user.identification===this.user.identification&&(this.ruc_registro_selected.ruc.contact_user=this.user),this.consumoCedula||(this.consumoCedula=!0,this.identificationContactValidated=!0,this.dinardapDataService.get_cedula(this.ruc_registro_selected.ruc.contact_user.identification).then(function(t){e.REGCIVILOK=!0;var l=t.original.entidades.entidad.filas.fila.columnas.columna;e.cedulaData="",l.forEach(function(t){"cedula"===t.campo&&(t.valor===e.ruc_registro_selected.ruc.contact_user.identification?(e.toastr.successToastr("La c\xe9dula ingresada es correcta.","Registro Civil"),e.identificationContactValidated=!0):(e.toastr.errorToastr("La c\xe9dula ingresada no es correcta.","Registro Civil"),e.identificationContactValidated=!1)),e.identificationContactValidated&&("nombre"===t.campo&&(e.ruc_registro_selected.ruc.contact_user.name=t.valor,e.cedulaData+="<strong>Nombre: </strong> "+t.valor+"<br/>"),"fechaNacimiento"===t.campo&&(e.cedulaData+="<strong>Fecha de Nacimiento: </strong> "+t.valor+"<br/>"),"nacionalidad"===t.campo&&(e.cedulaData+="<strong>Nacionalidad: </strong> "+t.valor+"<br/>"))})}).catch(function(t){e.toastr.errorToastr("La c\xe9dula ingresada no es correcta.","Registro Civil"),e.cedulaData='<div class="alert alert-danger" role="alert">El Registro Civil, no respondi\xf3. Vuelva a intentarlo.</div>',e.REGCIVILOK=!1,e.consumoCedula=!1})))},e.prototype.rucSaved=function(){return void 0!==this.ruc_registro_selected.ruc.id},e.prototype.checkCedulaEstablishment=function(){var e=this;if(this.establishment_selected.contact_user.identification=this.establishment_selected.contact_user.identification.replace(/[^\d]/,""),10!==this.establishment_selected.contact_user.identification.length)return this.identificationContactEstablishmentValidated=!1,void(this.consumoCedulaEstablishmentContact=!1);this.consumoCedulaEstablishmentContact&&this.REGCIVILOKEstablishment||(this.cedulaEstablishmentContactData='<div class="progress mb-3"><div class="progress-bar progress-bar-striped progress-bar-animated bg-warning col-12">Espere...</div></div><div class="col-12 text-center"><strong>Conect\xe1ndose al Registro Civil...</strong></div>',this.consumoCedulaEstablishmentContact||(this.identificationContactEstablishmentValidated=!0,this.consumoCedulaEstablishmentContact=!0,this.dinardapDataService.get_cedula(this.establishment_selected.contact_user.identification).then(function(t){var l=t.original.entidades.entidad.filas.fila.columnas.columna;e.cedulaEstablishmentContactData="",e.REGCIVILOKEstablishment=!0,l.forEach(function(t){"cedula"===t.campo&&(t.valor===e.establishment_selected.contact_user.identification?(e.toastr.successToastr("La c\xe9dula ingresada es correcta.","Registro Civil"),e.identificationContactEstablishmentValidated=!0):(e.toastr.errorToastr("La c\xe9dula ingresada no es correcta.","Registro Civil"),e.identificationContactEstablishmentValidated=!1)),e.identificationContactEstablishmentValidated&&("nombre"===t.campo&&(e.cedulaEstablishmentContactData+="<strong>Nombre: </strong> "+t.valor+"<br/>",e.establishment_selected.contact_user.name=t.valor),"nacionalidad"===t.campo&&(e.cedulaEstablishmentContactData+="<strong>Nacionalidad: </strong> "+t.valor+"<br/>"))})}).catch(function(t){e.toastr.errorToastr("La c\xe9dula ingresada no es correcta.","Registro Civil"),e.cedulaEstablishmentContactData='<div class="alert alert-danger" role="alert">El Registro Civil, no respondi\xf3. Vuelva a intentarlo.</div>',e.REGCIVILOKEstablishment=!1,e.consumoCedulaEstablishmentContact=!1})))},e.prototype.checkIdentificationRepresentant=function(){var e=this;if(this.ruc_registro_selected.ruc.person_representative.identification=this.ruc_registro_selected.ruc.person_representative.identification.replace(/[^\d]/,""),10!==this.ruc_registro_selected.ruc.person_representative.identification.length)return this.identificationRepresentativePersonValidated=!0,this.consumoCedulaRepresentanteLegal=!0,void(this.REGCIVILREPRESENTANTELEGALOK=!0);this.consumoCedulaRepresentanteLegal&&this.REGCIVILREPRESENTANTELEGALOK||(this.representanteCedulaData='<div class="progress mb-3"><div class="progress-bar progress-bar-striped progress-bar-animated bg-warning col-12">Espere...</div></div><div class="col-12 text-center"><strong>Conect\xe1ndose al Registro Civil...</strong></div>',this.consumoCedulaRepresentanteLegal||(this.identificationRepresentativePersonValidated=!0,this.consumoCedulaRepresentanteLegal=!0,this.dinardapDataService.get_cedula(this.ruc_registro_selected.ruc.person_representative.identification).then(function(t){var l=t.original.entidades.entidad.filas.fila.columnas.columna;e.representanteCedulaData="",e.ruc_registro_selected.ruc.owner_name="",e.REGCIVILREPRESENTANTELEGALOK=!0,l.forEach(function(t){"cedula"===t.campo&&(t.valor===e.ruc_registro_selected.ruc.person_representative.identification?(e.toastr.successToastr("La c\xe9dula ingresada es correcta.","Registro Civil"),e.identificationRepresentativePersonValidated=!0):(e.toastr.errorToastr("La c\xe9dula ingresada no es correcta.","Registro Civil"),e.identificationRepresentativePersonValidated=!1)),e.identificationRepresentativePersonValidated&&("nombre"===t.campo&&(e.representanteCedulaData+="<strong>Nombre: </strong> "+t.valor+"<br/>",e.ruc_registro_selected.ruc.owner_name=t.valor),"fechaNacimiento"===t.campo&&(e.representanteCedulaData+="<strong>Fecha de Nacimiento: </strong> "+t.valor+"<br/>"),"nacionalidad"===t.campo&&(e.representanteCedulaData+="<strong>Nacionalidad: </strong> "+t.valor+"<br/>"))})}).catch(function(t){e.toastr.errorToastr("La c\xe9dula ingresada no es correcta.","Registro Civil"),e.representanteCedulaData='<div class="alert alert-danger" role="alert">El Registro Civil, no respondi\xf3. Vuelva a intentarlo.</div>',e.REGCIVILREPRESENTANTELEGALOK=!1,e.consumoCedulaRepresentanteLegal=!1})))},e.prototype.checkTelefonoPrincipal=function(){return this.ruc_registro_selected.ruc.contact_user.main_phone_number=this.ruc_registro_selected.ruc.contact_user.main_phone_number.replace(/[^\d]/,""),this.ruc_registro_selected.ruc.contact_user.main_phone_number.length<9?(this.mainPhoneContactValidated=!1,!1):(this.mainPhoneContactValidated=!0,!0)},e.prototype.checkTelefonoPrincipalContactoEstablecimiento=function(){return this.establishment_selected.contact_user.main_phone_number=this.establishment_selected.contact_user.main_phone_number.replace(/[^\d]/,""),this.establishment_selected.contact_user.main_phone_number.length<9?(this.mainPhoneContactEstablishmentValidated=!1,!1):(this.mainPhoneContactEstablishmentValidated=!0,!0)},e.prototype.checkTelefonoSecundario=function(){return this.ruc_registro_selected.ruc.contact_user.secondary_phone_number=this.ruc_registro_selected.ruc.contact_user.secondary_phone_number.replace(/[^\d]/,""),this.ruc_registro_selected.ruc.contact_user.secondary_phone_number.length>0&&this.ruc_registro_selected.ruc.contact_user.secondary_phone_number.length<9?(this.secondaryPhoneContactValidated=!1,!1):(this.secondaryPhoneContactValidated=!0,!0)},e.prototype.checkTelefonoSecundarioContactoEstablecimiento=function(){return this.establishment_selected.contact_user.secondary_phone_number=this.establishment_selected.contact_user.secondary_phone_number.replace(/[^\d]/,""),this.establishment_selected.contact_user.secondary_phone_number.length>0&&this.establishment_selected.contact_user.secondary_phone_number.length<9?(this.secondaryPhoneContactEstablishmentValidated=!1,!1):(this.secondaryPhoneContactEstablishmentValidated=!0,!0)},e.prototype.checkTelefonoPrincipalEstablishment=function(){return this.establishment_selected.contact_user.main_phone_number=this.establishment_selected.contact_user.main_phone_number.replace(/[^\d]/,""),this.establishment_selected.contact_user.main_phone_number.length<9?(this.mainPhoneEstablishmentValidated=!1,!1):(this.mainPhoneEstablishmentValidated=!0,!0)},e.prototype.checkTelefonoSecundarioEstablishment=function(){return this.establishment_selected.contact_user.secondary_phone_number=this.establishment_selected.contact_user.secondary_phone_number.replace(/[^\d]/,""),this.establishment_selected.contact_user.secondary_phone_number.length>0&&this.establishment_selected.contact_user.secondary_phone_number.length<9?(this.secondaryPhoneEstablishmentValidated=!1,!1):(this.secondaryPhoneEstablishmentValidated=!0,!0)},e.prototype.checkEmail=function(){var e=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(this.ruc_registro_selected.ruc.contact_user.email.toString());return this.emailContactValidated=e,this.emailContactValidated},e.prototype.checkEmailContactEstablishment=function(){var e=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(this.establishment_selected.contact_user.email.toString());return this.emailContactEstablishmentValidated=e,this.emailContactEstablishmentValidated},e.prototype.checkURLWeb=function(){var e=/^(ftp|https?):\/\/+(www\.)?[a-z0-9\-\.]{3,}\.[a-z]{3}$/.test(this.establishment_selected.url_web.toString()),t=/^(www\.)?[a-z0-9\-\.]{3,}\.[a-z]{3}$/.test(this.establishment_selected.url_web.toString());return this.urlwebEstablishmentValidated=e||t||""==this.establishment_selected.url_web,this.urlwebEstablishmentValidated},e.prototype.checkEstablishmentComercialName=function(){return this.establishment_selected.commercially_known_name.length<1?(this.establishmentComercialNameValidated=!1,!1):(this.establishmentComercialNameValidated=!0,!0)},e.prototype.checkEstablishmentAddress=function(){return this.establishment_selected.address_main_street.length<5||this.establishment_selected.address_number.length<5||this.establishment_selected.address_secondary_street.length<5?(this.addressEstablishmentValidated=!1,!1):(this.addressEstablishmentValidated=!0,!0)},e.prototype.buildWorkerGroups=function(){var e=this;this.establishment_selected.workers_on_establishment=[],this.genders.forEach(function(t){e.worker_groups.forEach(function(l){var n=new se.a;n.worker_group_id=l.id,n.worker_group_name=l.name,n.gender_id=t.id,n.gender_name=t.name,n.count=0,n.is_max=l.is_max,e.establishment_selected.workers_on_establishment.push(n)})})},e.prototype.getWorkerGroups=function(){var e=this;this.worker_groups=[],this.workerGroupDataService.get().then(function(t){e.worker_groups=t,e.getGenders()}).catch(function(e){return console.log(e)})},e.prototype.getTaxPayerType=function(){var e=this;this.tax_payer_types=[],this.tax_payer_typeDataService.get().then(function(t){e.tax_payer_types=t}).catch(function(e){return console.log(e)})},e.prototype.addPreviewRegisterCode=function(){var e=new ae.a;this.establishment_selected.preview_register_codes_on_establishment.push(e)},e.prototype.removePreviewRegisterCode=function(e){var t=[];this.establishment_selected.preview_register_codes_on_establishment.forEach(function(l){l!==e&&t.push(l)}),this.establishment_selected.preview_register_codes_on_establishment=t},e.prototype.address_mapEventEstablishment=function(e){this.establishment_selected.address_map_latitude=e.coords.lat,this.establishment_selected.address_map_longitude=e.coords.lng},e.prototype.selectRegisterEstablishment=function(e){var t=this;this.establishmentDataService.get_filtered(e.id).then(function(e){t.establishment_selected=e.establishment,t.recoverUbication(),t.checkEstablishmentAddress(),t.checkURLWeb(),t.checkEstablishmentComercialName(),t.establishment_selected.contact_user=e.contact_user,t.checkCedulaEstablishment(),t.checkTelefonoPrincipalContactoEstablecimiento(),t.checkTelefonoSecundarioContactoEstablecimiento(),t.checkEmailContactEstablishment(),t.buildWorkerGroups(),t.establishment_selected.workers_on_establishment=e.workers_on_establishment,t.establishment_selected.workers_on_establishment.forEach(function(e){t.genders.forEach(function(t){t.id==e.gender_id&&(e.gender_name=t.name)}),t.worker_groups.forEach(function(t){t.id==e.worker_group_id&&(e.worker_group_name=t.name)})}),t.establishment_selected.languages_on_establishment=e.languages_on_establishment,t.establishment_selected.establishment_certifications_on_establishment=e.establishment_certifications_on_establishment,t.establishment_selected.establishment_certifications_on_establishment.forEach(function(e){e.establishment_certification_attachment=new N.a,t.establishment_certification_types.forEach(function(l){e.establishment_certification_type_id==l.id&&(e.establishment_certification_type_fatherCode=l.father_code,t.getEstablishmentCertificationTypesSpecific(e))}),t.establishmentCertificationAttachmentDataService.get(e.establishment_certification_attachment_id).then(function(t){e.establishment_certification_attachment=t.EstablishmentCertificationAttachment}).catch(function(e){console.log(e)})}),t.mostrarDataEstablishment=!0}).catch(function(e){console.log(e)}),this.establishmentPictureDataService.get_by_establishment_id(e.id).then(function(e){t.establishment_selected_picture=e}).catch(function(e){console.log(e)})},e.prototype.selectRegisterEstablishmentDeclaration=function(e){this.establishment_declarations_selected=e,this.getDeclarationsByEstablishment(e.id),this.declaration_selected=new P.a,this.mostrarDataDeclaration=!1},e.prototype.recoverUbication=function(){var e=this;this.ubicationDataService.getByIdLower(this.establishment_selected.ubication_id).then(function(t){e.zonalEstablishmentSelectedCode=t.zonal.code,e.provinciaEstablishmentSelectedCode=t.provincia.code,e.cantonEstablishmentSelectedCode=t.canton.code,e.establishment_selected.ubication_id=t.parroquia.id,e.getCantonesEstablishmentRecovery(),e.getParroquiasEstablishmentRecovery()}).catch(function(e){console.log(e)})},e.prototype.newRegisterEstablishment=function(){this.establishment_selected=new J.a,this.establishment_selected.workers_on_establishment=this.getEstablishmentWorkerGroup(),this.mostrarDataEstablishment=!0},e.prototype.newPreviewRegisterCode=function(){},e.prototype.selectPreviewRegisterCode=function(e){this.preview_register_codes_establishmentSelected=e},e.prototype.selectLanguage=function(e){this.languages_establishmentSelectedId=e.id},e.prototype.addLanguage=function(){var e=this;0!==this.languages_establishmentSelectedId?this.languages.forEach(function(t){if(t.id==e.languages_establishmentSelectedId){var l=!1;e.establishment_selected.languages_on_establishment.forEach(function(e){e.id==t.id&&(l=!0)}),l?e.toastr.errorToastr("El registro ya existe.","Error"):(e.establishment_selected.languages_on_establishment.push(t),e.languages_establishmentSelectedId=0)}}):this.toastr.errorToastr("Seleccione un coordinador.","Error")},e.prototype.getLanguage=function(){var e=this;this.languages=[],this.languageDataService.get().then(function(t){e.languages=t}).catch(function(e){return console.log(e)})},e.prototype.getLanguagesOnEstablishment=function(){var e=this;this.establishment_selected.languages_on_establishment=[],this.establishmentDataService.get(this.establishment_selected.id).then(function(t){e.establishment_selected.languages_on_establishment=t.attach[0].languages_on_establishment}).catch(function(e){return console.log(e)})},e.prototype.removeLanguage=function(){var e=this;if(0!==this.languages_establishmentSelectedId){var t=[],l=!1;this.establishment_selected.languages_on_establishment.forEach(function(n){n.id!==e.languages_establishmentSelectedId?t.push(n):l=!0}),l?(this.establishment_selected.languages_on_establishment=t,this.languages_establishmentSelectedId=0):this.toastr.errorToastr("Registro no encontrado.","Error")}else this.toastr.errorToastr("Seleccione un coordinador.","Error")},e.prototype.selectWorker=function(e){this.worker_establishmentSelected=e},e.prototype.addWorker=function(){var e=new se.a;this.establishment_selected.workers_on_establishment.push(e)},e.prototype.removeWorker=function(e){var t=[];this.establishment_selected.workers_on_establishment.forEach(function(l){l!==e&&t.push(l)}),this.establishment_selected.workers_on_establishment=t},e.prototype.selectEstablishmentCertification=function(e){this.establishment_certifications_establishmentSelected=e},e.prototype.addEstablishmentCertification=function(){var e=new W.a;this.establishment_selected.establishment_certifications_on_establishment.push(e)},e.prototype.removeEstablishmentCertification=function(e){var t=[];this.establishment_selected.establishment_certifications_on_establishment.forEach(function(l){l!==e&&t.push(l)}),this.establishment_selected.establishment_certifications_on_establishment=t},e.prototype.downloadEstablishmentCertification=function(e){var t=this;this.establishment_selected.establishment_certifications_on_establishment.forEach(function(l){l==e&&t.downloadFile(l.establishment_certification_attachment.establishment_certification_attachment_file,l.establishment_certification_attachment.establishment_certification_attachment_file_type,l.establishment_certification_attachment.establishment_certification_attachment_file_name)})},e.prototype.downloadFile=function(e,t,l){for(var n=atob(e),a=new Array(n.length),i=0;i<n.length;i++)a[i]=n.charCodeAt(i);var s=new Uint8Array(a),r=new Blob([s],{type:t});Object(Y.saveAs)(r,l)},e.prototype.CodificarArchivoEstablishmentCertification=function(e,t){var l=this,n=new FileReader;if(e.target.files&&e.target.files.length>0){var a=e.target.files[0];n.readAsDataURL(a),n.onload=function(){l.establishment_selected.establishment_certifications_on_establishment.forEach(function(e){e==t&&(e.establishment_certification_attachment.establishment_certification_attachment_file=n.result.toString().split(",")[1],e.establishment_certification_attachment.establishment_certification_attachment_file_type=a.type,e.establishment_certification_attachment.establishment_certification_attachment_file_name=a.name)})}}},e.prototype.selectEstablishmentRegister=function(e){var t=this;this.mostrarDataRegister=!1,this.newTariffs(),this.rucEstablishmentRegisterSelected=new re.a,this.registerDataService.get_register_data(e.id).then(function(e){t.rucEstablishmentRegisterSelected=e.register,t.rucEstablishmentRegisterSelected.status=e.status.state_id,t.getTramiteStatus(t.rucEstablishmentRegisterSelected.status),t.categorySelectedCode=e.register_category.code,t.rucEstablishmentRegisterSelected.complementary_service_types_on_register=e.complementary_service_types_on_register,t.rucEstablishmentRegisterSelected.complementary_service_foods_on_register=e.complementary_service_foods_on_register,t.rucEstablishmentRegisterSelected.capacities_on_register=e.capacities_on_register,t.getCategories(),t.getAllowedInfo(),t.alowed_capacity_types=[],t.capacityTypeDataService.get_filtered_by_register_type(t.rucEstablishmentRegisterSelected.register_type_id).then(function(e){t.alowed_capacity_types=e,t.mostrarDataRegister=!0,t.rucEstablishmentRegisterSelected.capacities_on_register.forEach(function(e){t.getMaxBed(e),t.calcBeds(e)}),t.calcSpaces()}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},e.prototype.selectComplementaryServiceType=function(e){this.complementary_service_types_registerSelectedId=e.id},e.prototype.getTramiteStatus=function(e){var t=this;this.statesAlojamiento.forEach(function(l){l.id==e&&(t.estado_tramite_selected_code=l.father_code,t.getSpecificStates())})},e.prototype.getSpecificStates=function(){var e=this;this.specific_states=[],this.statesAlojamiento.forEach(function(t){t.father_code==e.estado_tramite_selected_code&&e.specific_states.push(t)}),this.getRegisterTypes()},e.prototype.getDeclarationStates=function(){var e=this;this.stateDataService.get().then(function(t){e.declarationstates=t}).catch(function(e){console.log(e)})},e.prototype.addComplementaryServiceType=function(){var e=this;0!==this.complementary_service_types_registerSelectedId?this.complementary_service_types.forEach(function(t){if(t.id==e.complementary_service_types_registerSelectedId){var l=!1;e.rucEstablishmentRegisterSelected.complementary_service_types_on_register.forEach(function(e){e.id==t.id&&(l=!0)}),l?e.toastr.errorToastr("El registro ya existe.","Error"):(e.rucEstablishmentRegisterSelected.complementary_service_types_on_register.push(t),e.complementary_service_types_registerSelectedId=0)}}):this.toastr.errorToastr("Seleccione un coordinador.","Error")},e.prototype.validateRegister=function(){var e=0==this.rucEstablishmentRegisterSelected.establishment_id,t=0==this.rucEstablishmentRegisterSelected.status,l="-"==this.categorySelectedCode,n=0==this.rucEstablishmentRegisterSelected.register_type_id,a=0==this.rucEstablishmentRegisterSelected.total_spaces,i=!1;this.rucEstablishmentRegisterSelected.capacities_on_register.forEach(function(e){i||(i=e.quantity*e.total_spaces==0)});var s=!1;return this.rucEstablishmentRegisterSelected.complementary_service_foods_on_register.forEach(function(e){s||(s=0==e.complementary_service_food_type_id)}),!(e||t||l||n||a||i||s)},e.prototype.removeComplementaryServiceType=function(){var e=this;if(0!==this.complementary_service_types_registerSelectedId){var t=[],l=!1;this.rucEstablishmentRegisterSelected.complementary_service_types_on_register.forEach(function(n){n.id!==e.complementary_service_types_registerSelectedId?t.push(n):l=!0}),l?(this.rucEstablishmentRegisterSelected.complementary_service_types_on_register=t,this.complementary_service_types_registerSelectedId=0):this.toastr.errorToastr("Registro no encontrado.","Error")}else this.toastr.errorToastr("Seleccione un coordinador.","Error")},e.prototype.subirFotoFachada=function(){this.fotoFachadaInput.nativeElement.click()},e.prototype.CodificarArchivo=function(e){var t=this,l=new FileReader;if(e.target.files&&e.target.files.length>0){var n=e.target.files[0];l.readAsDataURL(n),l.onload=function(){t.establishment_selected_picture.establishment_picture_file_name=n.name,t.establishment_selected_picture.establishment_picture_file_type=n.type,t.establishment_selected_picture.establishment_picture_file=l.result.toString().split(",")[1]}}},e.prototype.goToPageEstablishment=function(e){e<1||e>this.lastPageEstablishment?this.toastr.errorToastr("La p\xe1gina solicitada no existe.","Error"):this.currentPageEstablishment=e},e.prototype.goToPageRegister=function(e){this.mostrarDataRegister=!1,this.ruc_registro_selected.registers=[],this.rucEstablishmentRegisterSelected=new re.a,this.getRegistersOnRuc(),e<1||e>this.lastPageRegister?this.toastr.errorToastr("La p\xe1gina solicitada no existe.","Error"):this.currentPageRegister=e},e.prototype.selectBed=function(e){this.bedSelected=e},e.prototype.addBed=function(e){var t=new q.a;e.total_spaces=0,e.beds_on_capacity.push(t)},e.prototype.removeBed=function(e){var t=this,l=[];e.total_spaces=0,e.beds_on_capacity.forEach(function(e){e!==t.bedSelected&&l.push(e)}),e.beds_on_capacity=l},e.prototype.addCapacity=function(){var e=new G.a;this.rucEstablishmentRegisterSelected.total_spaces=0,this.rucEstablishmentRegisterSelected.capacities_on_register.push(e)},e.prototype.newTariffs=function(){var e=[];return this.tarifas.forEach(function(t){t.childs.forEach(function(l){var n=new ge.a;n.tariff_father_name=t.father.name,n.tariff_name=l.name,n.tariff_type_id=l.id,e.push(n)})}),e},e.prototype.removeCapacity=function(e){var t=[];this.rucEstablishmentRegisterSelected.total_spaces=0,this.rucEstablishmentRegisterSelected.capacities_on_register.forEach(function(l){e!==l&&t.push(l)}),this.rucEstablishmentRegisterSelected.capacities_on_register=t},e.prototype.calcSpaces=function(){var e=this;this.rucEstablishmentRegisterSelected.total_spaces=0,this.rucEstablishmentRegisterSelected.total_habitations=0,this.rucEstablishmentRegisterSelected.capacities_on_register.forEach(function(t){e.rucEstablishmentRegisterSelected.total_spaces+=t.total_spaces*t.quantity,e.rucEstablishmentRegisterSelected.total_habitations+=t.quantity}),this.validateTariffs(),this.rucEstablishmentRegisterSelected.capacities_on_register.forEach(function(t){e.calcBeds(t)})},e.prototype.calcBeds=function(e){var t=this;e.total_spaces=0;var l=0;e.beds_on_capacity.forEach(function(n){var a=0;l+=n.quantity,t.alowed_bed_types.forEach(function(e){e.id==n.bed_type_id&&(a=n.quantity)}),e.total_spaces+=a}),e.max_bed_ok=l==e.max_beds,this.validateTariffs()},e.prototype.selectCapacity=function(e){this.capacitySelected=e},e.prototype.openDialog=function(e,t){this.statusSelected=t,this.modalService.open(e,{centered:!0,size:"sm"}).result.then(function(e){},function(e){})},e}(),Ge=l("3EpR"),je=n["\u0275crt"]({encapsulation:0,styles:[['.onoffswitch[_ngcontent-%COMP%]{position:relative;width:90px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.onoffswitch-checkbox[_ngcontent-%COMP%]{display:none}.onoffswitch-label[_ngcontent-%COMP%]{display:block;overflow:hidden;cursor:pointer;border:2px solid #999;border-radius:20px}.onoffswitch-inner[_ngcontent-%COMP%]{display:block;width:200%;margin-left:-100%;transition:margin .3s ease-in 0s}.onoffswitch-inner[_ngcontent-%COMP%]:after, .onoffswitch-inner[_ngcontent-%COMP%]:before{display:block;float:left;width:50%;height:30px;padding:0;line-height:30px;font-size:14px;font-family:Trebuchet,Arial,sans-serif;font-weight:700;box-sizing:border-box}.onoffswitch-inner[_ngcontent-%COMP%]:before{content:"SI";padding-left:21px;background-color:#5ebd79;color:#fff}.onoffswitch-inner[_ngcontent-%COMP%]:after{content:"NO";padding-right:21px;background-color:#eee;color:#999;text-align:right}.onoffswitch-switch[_ngcontent-%COMP%]{display:block;width:30px;margin:0;background:#fff;position:absolute;top:0;bottom:0;right:56px;border:2px solid #999;border-radius:20px;transition:all .3s ease-in 0s}.onoffswitch-checkbox[_ngcontent-%COMP%]:checked + .onoffswitch-label[_ngcontent-%COMP%]   .onoffswitch-inner[_ngcontent-%COMP%]{margin-left:0}.onoffswitch-checkbox[_ngcontent-%COMP%]:checked + .onoffswitch-label[_ngcontent-%COMP%]   .onoffswitch-switch[_ngcontent-%COMP%]{right:0}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#218838}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #218838}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{-webkit-transform:translateX(26px);transform:translateX(26px)}.slider.round[_ngcontent-%COMP%]{border-radius:34px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}']],data:{}});function Be(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"input",[["class","form-control"],["placeholder","Buscar..."]],null,[[null,"input"]],function(e,t,l){var a=!0,i=e.component;return"input"===t&&(a=!1!==n["\u0275nov"](e,1).onChangeFilter(l.target.value)&&a),"input"===t&&(a=!1!==i.onChangeTable(i.config)&&a),a},null,null)),n["\u0275did"](1,16384,null,0,s.NgTableFilteringDirective,[n.ElementRef,n.Renderer],{ngTableFiltering:[0,"ngTableFiltering"]},null)],function(e,t){e(t,1,0,t.component.config.filtering)},null)}function ze(e){return n["\u0275vid"](0,[(e()(),n["\u0275ted"](-1,null,["Primera"]))],null,null)}function $e(e){return n["\u0275vid"](0,[(e()(),n["\u0275ted"](-1,null,["Anterior"]))],null,null)}function Ke(e){return n["\u0275vid"](0,[(e()(),n["\u0275ted"](-1,null,["Siguiente"]))],null,null)}function Ze(e){return n["\u0275vid"](0,[(e()(),n["\u0275ted"](-1,null,["\xdaltima"]))],null,null)}function Ye(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,15,"ngb-pagination",[["role","navigation"]],null,[[null,"pageChange"]],function(e,t,l){var n=!0,a=e.component;return"pageChange"===t&&(n=!1!==(a.currentPageMinturRegisters=l)&&n),"pageChange"===t&&(n=!1!==a.onChangeTable(a.config,l)&&n),n},r.g,r.d)),n["\u0275did"](1,573440,null,6,o.C,[o.D],{boundaryLinks:[0,"boundaryLinks"],collectionSize:[1,"collectionSize"],maxSize:[2,"maxSize"],page:[3,"page"],pageSize:[4,"pageSize"]},{pageChange:"pageChange"}),n["\u0275qud"](335544320,3,{tplEllipsis:0}),n["\u0275qud"](335544320,4,{tplFirst:0}),n["\u0275qud"](335544320,5,{tplLast:0}),n["\u0275qud"](335544320,6,{tplNext:0}),n["\u0275qud"](335544320,7,{tplNumber:0}),n["\u0275qud"](335544320,8,{tplPrevious:0}),(e()(),n["\u0275and"](0,null,null,1,null,ze)),n["\u0275did"](9,16384,[[4,4]],0,o.E,[n.TemplateRef],null,null),(e()(),n["\u0275and"](0,null,null,1,null,$e)),n["\u0275did"](11,16384,[[8,4]],0,o.I,[n.TemplateRef],null,null),(e()(),n["\u0275and"](0,null,null,1,null,Ke)),n["\u0275did"](13,16384,[[6,4]],0,o.H,[n.TemplateRef],null,null),(e()(),n["\u0275and"](0,null,null,1,null,Ze)),n["\u0275did"](15,16384,[[5,4]],0,o.F,[n.TemplateRef],null,null)],function(e,t){var l=t.component;e(t,1,0,!0,l.data.length,10,l.currentPageMinturRegisters,l.recordsByPageRegisterMintur)},null)}function Je(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,5,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,2,"label",[["class","col-form-label"]],null,null,null,null,null)),(e()(),n["\u0275eld"](3,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Motivo de Tr\xe1mite"])),(e()(),n["\u0275eld"](5,0,null,null,1,"div",[["class","alert alert-info mt-2 mb-2"],["role","alert"]],null,null,null,null,null)),(e()(),n["\u0275ted"](6,null,[" "," "]))],null,function(e,t){e(t,6,0,t.component.motivoTramite)})}function We(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,30,"div",[["class","row mt-2 mb-2"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,29,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,28,"table",[["class","table table-hover mt-2"]],null,null,null,null,null)),(e()(),n["\u0275eld"](3,0,null,null,3,"thead",[],null,null,null,null,null)),(e()(),n["\u0275eld"](4,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),n["\u0275eld"](5,0,null,null,1,"th",[["colspan","2"],["style","text-align: center;"]],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["DATOS DE CONTACTO"])),(e()(),n["\u0275eld"](7,0,null,null,23,"tbody",[],null,null,null,null,null)),(e()(),n["\u0275eld"](8,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),n["\u0275eld"](9,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Nombre Completo"])),(e()(),n["\u0275eld"](11,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),n["\u0275ted"](12,null,["",""])),(e()(),n["\u0275eld"](13,0,null,null,5,"tr",[],null,null,null,null,null)),(e()(),n["\u0275eld"](14,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Correo Electr\xf3nico"])),(e()(),n["\u0275eld"](16,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),n["\u0275eld"](17,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),n["\u0275ted"](18,null,["",""])),(e()(),n["\u0275eld"](19,0,null,null,5,"tr",[],null,null,null,null,null)),(e()(),n["\u0275eld"](20,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Tel\xe9fono Principal"])),(e()(),n["\u0275eld"](22,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),n["\u0275eld"](23,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),n["\u0275ted"](24,null,["",""])),(e()(),n["\u0275eld"](25,0,null,null,5,"tr",[],null,null,null,null,null)),(e()(),n["\u0275eld"](26,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Tel\xe9fono Secundario"])),(e()(),n["\u0275eld"](28,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),n["\u0275eld"](29,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),n["\u0275ted"](30,null,["",""]))],null,function(e,t){var l=t.component;e(t,12,0,l.contactUser.name),e(t,17,0,n["\u0275inlineInterpolate"](1,"mailto:",l.contactUser.email,"")),e(t,18,0,l.contactUser.email),e(t,23,0,n["\u0275inlineInterpolate"](1,"tel:",l.contactUser.main_phone_number,"")),e(t,24,0,l.contactUser.main_phone_number),e(t,29,0,n["\u0275inlineInterpolate"](1,"tel:",l.contactUser.secondary_phone_number,"")),e(t,30,0,l.contactUser.secondary_phone_number)})}function Qe(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,7,"div",[["class","col-12 text-center mb-3"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,5,"input",[["id","vacacionesCheck"],["name","vacacionesCheck"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,t,l){var a=!0,i=e.component;return"change"===t&&(a=!1!==n["\u0275nov"](e,2).onChange(l.target.checked)&&a),"blur"===t&&(a=!1!==n["\u0275nov"](e,2).onTouched()&&a),"ngModelChange"===t&&(a=!1!==(i.estoyVacaciones=l)&&a),"change"===t&&(a=!1!==i.rechazarCheck()&&a),a},null,null)),n["\u0275did"](2,16384,null,0,u.b,[n.Renderer2,n.ElementRef],null,null),n["\u0275prd"](1024,null,u.h,function(e){return[e]},[u.b]),n["\u0275did"](4,671744,null,0,u.m,[[8,null],[8,null],[8,null],[6,u.h]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),n["\u0275prd"](2048,null,u.i,null,[u.m]),n["\u0275did"](6,16384,null,0,u.j,[[4,u.i]],null,null),(e()(),n["\u0275ted"](-1,null,[" Devolver el tr\xe1mite seleccionado "]))],function(e,t){e(t,4,0,"vacacionesCheck",t.component.estoyVacaciones)},function(e,t){e(t,1,0,n["\u0275nov"](t,6).ngClassUntouched,n["\u0275nov"](t,6).ngClassTouched,n["\u0275nov"](t,6).ngClassPristine,n["\u0275nov"](t,6).ngClassDirty,n["\u0275nov"](t,6).ngClassValid,n["\u0275nov"](t,6).ngClassInvalid,n["\u0275nov"](t,6).ngClassPending)})}function He(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,8,"div",[["class","col-12 mt-5 mb-2"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,1,"label",[["class","col-form-label"]],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Motivo de la devoluci\xf3n del tr\xe1mite"])),(e()(),n["\u0275eld"](3,0,null,null,5,"ck-editor",[["id","notes"],["name","notes"],["skin","moono-lisa"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(e,t,l){var n=!0;return"ngModelChange"===t&&(n=!1!==(e.component.registerApprovalFinanciero.notes=l)&&n),n},c.b,c.a)),n["\u0275did"](4,9158656,null,0,d.a,[n.NgZone,n.ElementRef],{skin:[0,"skin"],id:[1,"id"]},null),n["\u0275prd"](1024,null,u.h,function(e){return[e]},[d.a]),n["\u0275did"](6,671744,null,0,u.m,[[8,null],[8,null],[8,null],[6,u.h]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),n["\u0275prd"](2048,null,u.i,null,[u.m]),n["\u0275did"](8,16384,null,0,u.j,[[4,u.i]],null,null)],function(e,t){var l=t.component;e(t,4,0,"moono-lisa","notes"),e(t,6,0,"notes",l.registerApprovalFinanciero.notes)},function(e,t){e(t,3,0,n["\u0275nov"](t,8).ngClassUntouched,n["\u0275nov"](t,8).ngClassTouched,n["\u0275nov"](t,8).ngClassPristine,n["\u0275nov"](t,8).ngClassDirty,n["\u0275nov"](t,8).ngClassValid,n["\u0275nov"](t,8).ngClassInvalid,n["\u0275nov"](t,8).ngClassPending)})}function Xe(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-info"],["title","Devolver a Coordinador Zonal"],["type","button"]],null,[[null,"click"]],function(e,t,l){var n=!0;return"click"===t&&(n=!1!==e.component.devolverVacaciones()&&n),n},null,null)),(e()(),n["\u0275eld"](1,0,null,null,0,"i",[["class","fas fa-couch"]],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,[" Devolver a Coordinador Zonal"]))],null,null)}function et(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,6,"div",[["class","row mt-5"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,5,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,2,"h4",[],null,null,null,null,null)),(e()(),n["\u0275eld"](3,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["\xd3rdenes de Pagos Calculadas Por Declaraci\xf3n"])),(e()(),n["\u0275eld"](5,0,null,null,1,"button",[["class","btn btn-primary"],["title","Actualizar"],["type","button"]],null,[[null,"click"]],function(e,t,l){var n=!0;return"click"===t&&(n=!1!==e.component.buildPays()&&n),n},null,null)),(e()(),n["\u0275eld"](6,0,null,null,0,"i",[["class","fas fa-sync"]],null,null,null,null,null))],null,null)}function tt(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,35,"tr",[],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),n["\u0275ted"](2,null,["",""])),(e()(),n["\u0275eld"](3,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),n["\u0275ted"](4,null,[""," USD"])),n["\u0275ppd"](5,2),(e()(),n["\u0275eld"](6,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),n["\u0275ted"](7,null,[""," USD"])),n["\u0275ppd"](8,2),(e()(),n["\u0275eld"](9,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),n["\u0275ted"](10,null,[""," USD"])),n["\u0275ppd"](11,2),(e()(),n["\u0275eld"](12,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),n["\u0275ted"](13,null,[""," USD"])),n["\u0275ppd"](14,2),(e()(),n["\u0275eld"](15,0,null,null,10,"td",[],null,null,null,null,null)),(e()(),n["\u0275eld"](16,0,null,null,9,"div",[["class","onoffswitch"]],null,null,null,null,null)),(e()(),n["\u0275eld"](17,0,null,null,5,"input",[["class","onoffswitch-checkbox"],["name","esNuevo"],["type","checkbox"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,t,l){var a=!0;return"change"===t&&(a=!1!==n["\u0275nov"](e,18).onChange(l.target.checked)&&a),"blur"===t&&(a=!1!==n["\u0275nov"](e,18).onTouched()&&a),"ngModelChange"===t&&(a=!1!==(e.context.$implicit.nuevo=l)&&a),a},null,null)),n["\u0275did"](18,16384,null,0,u.b,[n.Renderer2,n.ElementRef],null,null),n["\u0275prd"](1024,null,u.h,function(e){return[e]},[u.b]),n["\u0275did"](20,671744,null,0,u.m,[[8,null],[8,null],[8,null],[6,u.h]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),n["\u0275prd"](2048,null,u.i,null,[u.m]),n["\u0275did"](22,16384,null,0,u.j,[[4,u.i]],null,null),(e()(),n["\u0275eld"](23,0,null,null,2,"label",[["class","onoffswitch-label"]],[[8,"htmlFor",0]],null,null,null,null)),(e()(),n["\u0275eld"](24,0,null,null,0,"span",[["class","onoffswitch-inner"]],null,null,null,null,null)),(e()(),n["\u0275eld"](25,0,null,null,0,"span",[["class","onoffswitch-switch"]],null,null,null,null,null)),(e()(),n["\u0275eld"](26,0,null,null,9,"td",[],null,null,null,null,null)),(e()(),n["\u0275eld"](27,0,null,null,8,"div",[["class","btn-group"],["role","group"]],null,null,null,null,null)),(e()(),n["\u0275eld"](28,0,null,null,1,"button",[["class","btn btn-success"],["title","Cargar Valor a Pagar"],["type","button"]],null,[[null,"click"]],function(e,t,l){var n=!0;return"click"===t&&(n=!1!==e.component.saveToPayValueCalc(e.context.$implicit)&&n),n},null,null)),(e()(),n["\u0275eld"](29,0,null,null,0,"span",[["class","fas fa-cloud-upload-alt"]],null,null,null,null,null)),(e()(),n["\u0275eld"](30,0,null,null,1,"button",[["class","btn btn-warning"],["title","Es un Registro Nuevo"],["type","button"]],null,[[null,"click"]],function(e,t,l){var n=!0;return"click"===t&&(n=!1!==e.component.encerarDeclaracion(e.context.$implicit)&&n),n},null,null)),(e()(),n["\u0275eld"](31,0,null,null,0,"span",[["class","fas fa-file-export"]],null,null,null,null,null)),(e()(),n["\u0275eld"](32,0,null,null,1,"button",[["class","btn btn-danger"],["title","Encerar Todo"],["type","button"]],null,[[null,"click"]],function(e,t,l){var n=!0;return"click"===t&&(n=!1!==e.component.encerarAllDeclaracion(e.context.$implicit)&&n),n},null,null)),(e()(),n["\u0275eld"](33,0,null,null,0,"span",[["class","fas fa-eraser"]],null,null,null,null,null)),(e()(),n["\u0275eld"](34,0,null,null,1,"button",[["class","btn btn-info ml-2"],["title","Descargar Declaraci\xf3n"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,l){var n=!0;return"click"===t&&(n=!1!==e.component.descargarDeclaracionPDF(e.context.$implicit)&&n),n},null,null)),(e()(),n["\u0275eld"](35,0,null,null,0,"span",[["class","fas fa-file-pdf"]],null,null,null,null,null))],function(e,t){e(t,20,0,"esNuevo",t.context.$implicit.nuevo)},function(e,t){var l=t.component;e(t,2,0,t.context.$implicit.code);var a=n["\u0275unv"](t,4,0,e(t,5,0,n["\u0275nov"](t.parent.parent,0),t.context.$implicit.amount_to_pay_base,"1.2"));e(t,4,0,a);var i=n["\u0275unv"](t,7,0,e(t,8,0,n["\u0275nov"](t.parent.parent,0),t.context.$implicit.amount_to_pay_fines,"1.2"));e(t,7,0,i);var s=n["\u0275unv"](t,10,0,e(t,11,0,n["\u0275nov"](t.parent.parent,0),t.context.$implicit.amount_to_pay_taxes,"1.2"));e(t,10,0,s);var r=n["\u0275unv"](t,13,0,e(t,14,0,n["\u0275nov"](t.parent.parent,0),t.context.$implicit.amount_to_pay,"1.2"));e(t,13,0,r),e(t,17,0,n["\u0275inlineInterpolate"](1,"",t.context.index,""),n["\u0275nov"](t,22).ngClassUntouched,n["\u0275nov"](t,22).ngClassTouched,n["\u0275nov"](t,22).ngClassPristine,n["\u0275nov"](t,22).ngClassDirty,n["\u0275nov"](t,22).ngClassValid,n["\u0275nov"](t,22).ngClassInvalid,n["\u0275nov"](t,22).ngClassPending),e(t,23,0,n["\u0275inlineInterpolate"](1,"",t.context.index,"")),e(t,34,0,l.imprimiendoDeclaracion)})}function lt(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,21,"div",[["class","row"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,20,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,19,"table",[["class","table table-hover mt-2"]],null,null,null,null,null)),(e()(),n["\u0275eld"](3,0,null,null,15,"thead",[],null,null,null,null,null)),(e()(),n["\u0275eld"](4,0,null,null,14,"tr",[],null,null,null,null,null)),(e()(),n["\u0275eld"](5,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["A\xf1o de la Declaraci\xf3n"])),(e()(),n["\u0275eld"](7,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Valor a Pagar - Impuesto 1X1000"])),(e()(),n["\u0275eld"](9,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Valor a Pagar - Multas"])),(e()(),n["\u0275eld"](11,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Valor a Pagar - Intereses"])),(e()(),n["\u0275eld"](13,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Valor a Pagar - Total"])),(e()(),n["\u0275eld"](15,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Es Nuevo"])),(e()(),n["\u0275eld"](17,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Opciones"])),(e()(),n["\u0275eld"](19,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,tt)),n["\u0275did"](21,278528,null,0,h.NgForOf,[n.ViewContainerRef,n.TemplateRef,n.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,21,0,t.component.pays_calc)},null)}function nt(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,3,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,2,"h4",[],null,null,null,null,null)),(e()(),n["\u0275eld"](3,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Insertar \xd3rden de Pago Manual"]))],null,null)}function at(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,15,"div",[["class","row"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,14,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,13,"div",[["class","form-group mt-3 text-center"]],null,null,null,null,null)),(e()(),n["\u0275eld"](3,0,null,null,2,"label",[["class","col-12"]],null,null,null,null,null)),(e()(),n["\u0275eld"](4,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Deseo generar una \xf3rden de pago manual"])),(e()(),n["\u0275eld"](6,0,null,null,9,"div",[["class","onoffswitch"]],null,null,null,null,null)),(e()(),n["\u0275eld"](7,0,null,null,5,"input",[["class","onoffswitch-checkbox"],["id","baised_accounting"],["name","baised_accounting"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,t,l){var a=!0,i=e.component;return"change"===t&&(a=!1!==n["\u0275nov"](e,8).onChange(l.target.checked)&&a),"blur"===t&&(a=!1!==n["\u0275nov"](e,8).onTouched()&&a),"ngModelChange"===t&&(a=!1!==(i.payManualAgreement=l)&&a),a},null,null)),n["\u0275did"](8,16384,null,0,u.b,[n.Renderer2,n.ElementRef],null,null),n["\u0275prd"](1024,null,u.h,function(e){return[e]},[u.b]),n["\u0275did"](10,671744,null,0,u.m,[[8,null],[8,null],[8,null],[6,u.h]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),n["\u0275prd"](2048,null,u.i,null,[u.m]),n["\u0275did"](12,16384,null,0,u.j,[[4,u.i]],null,null),(e()(),n["\u0275eld"](13,0,null,null,2,"label",[["class","onoffswitch-label"],["for","baised_accounting"]],null,null,null,null,null)),(e()(),n["\u0275eld"](14,0,null,null,0,"span",[["class","onoffswitch-inner"]],null,null,null,null,null)),(e()(),n["\u0275eld"](15,0,null,null,0,"span",[["class","onoffswitch-switch"]],null,null,null,null,null))],function(e,t){e(t,10,0,"baised_accounting",t.component.payManualAgreement)},function(e,t){e(t,7,0,n["\u0275nov"](t,12).ngClassUntouched,n["\u0275nov"](t,12).ngClassTouched,n["\u0275nov"](t,12).ngClassPristine,n["\u0275nov"](t,12).ngClassDirty,n["\u0275nov"](t,12).ngClassValid,n["\u0275nov"](t,12).ngClassInvalid,n["\u0275nov"](t,12).ngClassPending)})}function it(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,50,"div",[["class","row"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,13,"div",[["class","col-3"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Valor a Pagar - Impuesto 1X1000"])),(e()(),n["\u0275eld"](4,0,null,null,10,"div",[["class","input-group"]],null,null,null,null,null)),(e()(),n["\u0275eld"](5,0,null,null,6,"input",[["class","form-control"],["id","declarationValueToPayBase"],["name","declarationValueToPayBase"],["placeholder","Valor a Pagar - Impuesto 1X1000"],["step","0.01"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"ngModelChange"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(e,t,l){var a=!0,i=e.component;return"input"===t&&(a=!1!==n["\u0275nov"](e,6)._handleInput(l.target.value)&&a),"blur"===t&&(a=!1!==n["\u0275nov"](e,6).onTouched()&&a),"compositionstart"===t&&(a=!1!==n["\u0275nov"](e,6)._compositionStart()&&a),"compositionend"===t&&(a=!1!==n["\u0275nov"](e,6)._compositionEnd(l.target.value)&&a),"change"===t&&(a=!1!==n["\u0275nov"](e,7).onChange(l.target.value)&&a),"input"===t&&(a=!1!==n["\u0275nov"](e,7).onChange(l.target.value)&&a),"blur"===t&&(a=!1!==n["\u0275nov"](e,7).onTouched()&&a),"input"===t&&(a=!1!==i.actualizarValorPagar(i.pay)&&a),"ngModelChange"===t&&(a=!1!==(i.pay.amount_to_pay_base=l)&&a),a},null,null)),n["\u0275did"](6,16384,null,0,u.d,[n.Renderer2,n.ElementRef,[2,u.a]],null,null),n["\u0275did"](7,16384,null,0,u.q,[n.Renderer2,n.ElementRef],null,null),n["\u0275prd"](1024,null,u.h,function(e,t){return[e,t]},[u.d,u.q]),n["\u0275did"](9,671744,null,0,u.m,[[8,null],[8,null],[8,null],[6,u.h]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),n["\u0275prd"](2048,null,u.i,null,[u.m]),n["\u0275did"](11,16384,null,0,u.j,[[4,u.i]],null,null),(e()(),n["\u0275eld"](12,0,null,null,2,"div",[["class","input-group-append"]],null,null,null,null,null)),(e()(),n["\u0275eld"](13,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["USD"])),(e()(),n["\u0275eld"](15,0,null,null,13,"div",[["class","col-3"]],null,null,null,null,null)),(e()(),n["\u0275eld"](16,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Valor a Pagar - Multas"])),(e()(),n["\u0275eld"](18,0,null,null,10,"div",[["class","input-group"]],null,null,null,null,null)),(e()(),n["\u0275eld"](19,0,null,null,6,"input",[["class","form-control"],["id","declarationValueToPayFines"],["name","declarationValueToPayFines"],["placeholder","Valor a Pagar - Multas"],["step","0.01"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"ngModelChange"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(e,t,l){var a=!0,i=e.component;return"input"===t&&(a=!1!==n["\u0275nov"](e,20)._handleInput(l.target.value)&&a),"blur"===t&&(a=!1!==n["\u0275nov"](e,20).onTouched()&&a),"compositionstart"===t&&(a=!1!==n["\u0275nov"](e,20)._compositionStart()&&a),"compositionend"===t&&(a=!1!==n["\u0275nov"](e,20)._compositionEnd(l.target.value)&&a),"change"===t&&(a=!1!==n["\u0275nov"](e,21).onChange(l.target.value)&&a),"input"===t&&(a=!1!==n["\u0275nov"](e,21).onChange(l.target.value)&&a),"blur"===t&&(a=!1!==n["\u0275nov"](e,21).onTouched()&&a),"input"===t&&(a=!1!==i.actualizarValorPagar(i.pay)&&a),"ngModelChange"===t&&(a=!1!==(i.pay.amount_to_pay_fines=l)&&a),a},null,null)),n["\u0275did"](20,16384,null,0,u.d,[n.Renderer2,n.ElementRef,[2,u.a]],null,null),n["\u0275did"](21,16384,null,0,u.q,[n.Renderer2,n.ElementRef],null,null),n["\u0275prd"](1024,null,u.h,function(e,t){return[e,t]},[u.d,u.q]),n["\u0275did"](23,671744,null,0,u.m,[[8,null],[8,null],[8,null],[6,u.h]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),n["\u0275prd"](2048,null,u.i,null,[u.m]),n["\u0275did"](25,16384,null,0,u.j,[[4,u.i]],null,null),(e()(),n["\u0275eld"](26,0,null,null,2,"div",[["class","input-group-append"]],null,null,null,null,null)),(e()(),n["\u0275eld"](27,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["USD"])),(e()(),n["\u0275eld"](29,0,null,null,13,"div",[["class","col-3"]],null,null,null,null,null)),(e()(),n["\u0275eld"](30,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Valor a Pagar - Intereses"])),(e()(),n["\u0275eld"](32,0,null,null,10,"div",[["class","input-group"]],null,null,null,null,null)),(e()(),n["\u0275eld"](33,0,null,null,6,"input",[["class","form-control"],["id","declarationValueToPayTaxes"],["name","declarationValueToPayTaxes"],["placeholder","Valor a Pagar - Intereses"],["step","0.01"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"ngModelChange"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(e,t,l){var a=!0,i=e.component;return"input"===t&&(a=!1!==n["\u0275nov"](e,34)._handleInput(l.target.value)&&a),"blur"===t&&(a=!1!==n["\u0275nov"](e,34).onTouched()&&a),"compositionstart"===t&&(a=!1!==n["\u0275nov"](e,34)._compositionStart()&&a),"compositionend"===t&&(a=!1!==n["\u0275nov"](e,34)._compositionEnd(l.target.value)&&a),"change"===t&&(a=!1!==n["\u0275nov"](e,35).onChange(l.target.value)&&a),"input"===t&&(a=!1!==n["\u0275nov"](e,35).onChange(l.target.value)&&a),"blur"===t&&(a=!1!==n["\u0275nov"](e,35).onTouched()&&a),"input"===t&&(a=!1!==i.actualizarValorPagar(i.pay)&&a),"ngModelChange"===t&&(a=!1!==(i.pay.amount_to_pay_taxes=l)&&a),a},null,null)),n["\u0275did"](34,16384,null,0,u.d,[n.Renderer2,n.ElementRef,[2,u.a]],null,null),n["\u0275did"](35,16384,null,0,u.q,[n.Renderer2,n.ElementRef],null,null),n["\u0275prd"](1024,null,u.h,function(e,t){return[e,t]},[u.d,u.q]),n["\u0275did"](37,671744,null,0,u.m,[[8,null],[8,null],[8,null],[6,u.h]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),n["\u0275prd"](2048,null,u.i,null,[u.m]),n["\u0275did"](39,16384,null,0,u.j,[[4,u.i]],null,null),(e()(),n["\u0275eld"](40,0,null,null,2,"div",[["class","input-group-append"]],null,null,null,null,null)),(e()(),n["\u0275eld"](41,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["USD"])),(e()(),n["\u0275eld"](43,0,null,null,7,"div",[["class","col-3"]],null,null,null,null,null)),(e()(),n["\u0275eld"](44,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Valor a Pagar - Total"])),(e()(),n["\u0275eld"](46,0,null,null,4,"div",[["class","input-group"]],null,null,null,null,null)),(e()(),n["\u0275eld"](47,0,null,null,3,"h3",[],null,null,null,null,null)),(e()(),n["\u0275eld"](48,0,null,null,2,"strong",[],null,null,null,null,null)),(e()(),n["\u0275ted"](49,null,[""," USD"])),n["\u0275ppd"](50,2)],function(e,t){var l=t.component;e(t,9,0,"declarationValueToPayBase",l.pay.payed,l.pay.amount_to_pay_base),e(t,23,0,"declarationValueToPayFines",l.pay.payed,l.pay.amount_to_pay_fines),e(t,37,0,"declarationValueToPayTaxes",l.pay.payed,l.pay.amount_to_pay_taxes)},function(e,t){var l=t.component;e(t,5,0,n["\u0275nov"](t,11).ngClassUntouched,n["\u0275nov"](t,11).ngClassTouched,n["\u0275nov"](t,11).ngClassPristine,n["\u0275nov"](t,11).ngClassDirty,n["\u0275nov"](t,11).ngClassValid,n["\u0275nov"](t,11).ngClassInvalid,n["\u0275nov"](t,11).ngClassPending),e(t,19,0,n["\u0275nov"](t,25).ngClassUntouched,n["\u0275nov"](t,25).ngClassTouched,n["\u0275nov"](t,25).ngClassPristine,n["\u0275nov"](t,25).ngClassDirty,n["\u0275nov"](t,25).ngClassValid,n["\u0275nov"](t,25).ngClassInvalid,n["\u0275nov"](t,25).ngClassPending),e(t,33,0,n["\u0275nov"](t,39).ngClassUntouched,n["\u0275nov"](t,39).ngClassTouched,n["\u0275nov"](t,39).ngClassPristine,n["\u0275nov"](t,39).ngClassDirty,n["\u0275nov"](t,39).ngClassValid,n["\u0275nov"](t,39).ngClassInvalid,n["\u0275nov"](t,39).ngClassPending);var a=n["\u0275unv"](t,49,0,e(t,50,0,n["\u0275nov"](t.parent,0),l.pay.amount_to_pay,"1.2"));e(t,49,0,a)})}function st(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,7,"div",[["class","row mt-3"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,6,"div",[["class","col-12 text-center"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,2,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(e,t,l){var n=!0;return"click"===t&&(n=!1!==e.component.saveToPayValue()&&n),n},null,null)),(e()(),n["\u0275eld"](3,0,null,null,0,"span",[["class","fas fa-money-check-alt"]],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["\xa0Cargar Valor a Pagar "])),(e()(),n["\u0275eld"](5,0,null,null,2,"button",[["class","btn btn-danger ml-2"],["title","Cancelar Cambios"],["type","button"]],null,[[null,"click"]],function(e,t,l){var n=!0;return"click"===t&&(n=!1!==e.component.cancelPayManual()&&n),n},null,null)),(e()(),n["\u0275eld"](6,0,null,null,0,"i",[["class","fas fa-times"]],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,[" Cancelar"]))],null,null)}function rt(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,3,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,2,"h4",[],null,null,null,null,null)),(e()(),n["\u0275eld"](3,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["\xd3rdenes de Pagos"])),(e()(),n["\u0275eld"](5,0,null,null,6,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),n["\u0275eld"](6,0,null,null,5,"div",[["class","btn-toolbar"],["role","toolbar"]],null,null,null,null,null)),(e()(),n["\u0275eld"](7,0,null,null,4,"div",[["class","btn-group mr-2"],["role","group"]],null,null,null,null,null)),(e()(),n["\u0275eld"](8,0,null,null,1,"button",[["class","btn btn-primary"],["title","Actualizar"],["type","button"]],null,[[null,"click"]],function(e,t,l){var n=!0;return"click"===t&&(n=!1!==e.component.refresh()&&n),n},null,null)),(e()(),n["\u0275eld"](9,0,null,null,0,"i",[["class","fas fa-sync"]],null,null,null,null,null)),(e()(),n["\u0275eld"](10,0,null,null,1,"button",[["class","btn btn-warning"],["title","Enviar Correos de \xd3rdenes de Pago"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,l){var n=!0;return"click"===t&&(n=!1!==e.component.enviarEmailPago()&&n),n},null,null)),(e()(),n["\u0275eld"](11,0,null,null,0,"span",[["class","fas fa-envelope-open-text"]],null,null,null,null,null))],null,function(e,t){e(t,10,0,t.component.pagado())})}function ot(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"span",[["class","badge badge-success"]],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Pagado"]))],null,null)}function ut(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"span",[["class","badge badge-danger"]],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["No Pagado"]))],null,null)}function ct(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"strong",[],null,null,null,null,null)),(e()(),n["\u0275ted"](1,null,[""," USD"])),n["\u0275ppd"](2,2)],null,function(e,t){var l=n["\u0275unv"](t,1,0,e(t,2,0,n["\u0275nov"](t.parent.parent.parent,0),t.parent.context.$implicit.amount_payed,"1.2"));e(t,1,0,l)})}function dt(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-danger"],["title","Borrar \xd3rden de Pago"],["type","button"]],null,[[null,"click"]],function(e,t,l){var n=!0;return"click"===t&&(n=!1!==e.component.borrarOrdenDePago(e.parent.context.$implicit)&&n),n},null,null)),(e()(),n["\u0275eld"](1,0,null,null,0,"i",[["class","fas fa-trash"]],null,null,null,null,null))],null,null)}function ht(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,35,"tr",[],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),n["\u0275ted"](2,null,["",""])),(e()(),n["\u0275eld"](3,0,null,null,4,"td",[],null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,ot)),n["\u0275did"](5,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,ut)),n["\u0275did"](7,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](8,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,ct)),n["\u0275did"](10,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](11,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),n["\u0275ted"](12,null,[""," USD"])),n["\u0275ppd"](13,2),(e()(),n["\u0275eld"](14,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),n["\u0275ted"](15,null,[""," USD"])),n["\u0275ppd"](16,2),(e()(),n["\u0275eld"](17,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),n["\u0275ted"](18,null,[""," USD"])),n["\u0275ppd"](19,2),(e()(),n["\u0275eld"](20,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),n["\u0275ted"](21,null,[""," USD"])),n["\u0275ppd"](22,2),(e()(),n["\u0275eld"](23,0,null,null,9,"td",[],null,null,null,null,null)),(e()(),n["\u0275eld"](24,0,null,null,6,"div",[["class","btn-group"]],null,null,null,null,null)),(e()(),n["\u0275eld"](25,0,null,null,1,"button",[["class","btn btn-info"],["title","Descargar Adjunto"],["type","button"]],[[8,"hidden",0]],[[null,"click"]],function(e,t,l){var n=!0;return"click"===t&&(n=!1!==e.component.descargarDocumentoDePago(e.context.$implicit)&&n),n},null,null)),(e()(),n["\u0275eld"](26,0,null,null,0,"i",[["class","fas fa-file-pdf"]],null,null,null,null,null)),(e()(),n["\u0275eld"](27,0,null,null,1,"button",[["class","btn btn-danger"],["title","Eliminar Adjunto"],["type","button"]],[[8,"hidden",0]],[[null,"click"]],function(e,t,l){var n=!0;return"click"===t&&(n=!1!==e.component.borrarDocumentoDePago(e.context.$implicit)&&n),n},null,null)),(e()(),n["\u0275eld"](28,0,null,null,0,"i",[["class","fas fa-eraser"]],null,null,null,null,null)),(e()(),n["\u0275eld"](29,0,null,null,1,"label",[["class","btn btn-success"]],[[8,"htmlFor",0],[8,"hidden",0]],null,null,null,null)),(e()(),n["\u0275eld"](30,0,null,null,0,"i",[["class","fas fa-upload"]],null,null,null,null,null)),(e()(),n["\u0275eld"](31,0,null,null,1,"div",[["class","btn-group"]],null,null,null,null,null)),(e()(),n["\u0275eld"](32,0,null,null,0,"input",[["accept","application/pdf"],["class","form-control"],["type","file"]],[[8,"hidden",0],[8,"id",0]],[[null,"change"]],function(e,t,l){var n=!0;return"change"===t&&(n=!1!==e.component.CodeFileDocumentoPago(l,e.context.$implicit)&&n),n},null,null)),(e()(),n["\u0275eld"](33,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,dt)),n["\u0275did"](35,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,5,0,t.context.$implicit.payed),e(t,7,0,!t.context.$implicit.payed),e(t,10,0,-1!=t.context.$implicit.amount_payed),e(t,35,0,!t.context.$implicit.payed)},function(e,t){e(t,2,0,t.context.$implicit.code);var l=n["\u0275unv"](t,12,0,e(t,13,0,n["\u0275nov"](t.parent.parent,0),t.context.$implicit.amount_to_pay_base,"1.2"));e(t,12,0,l);var a=n["\u0275unv"](t,15,0,e(t,16,0,n["\u0275nov"](t.parent.parent,0),t.context.$implicit.amount_to_pay_fines,"1.2"));e(t,15,0,a);var i=n["\u0275unv"](t,18,0,e(t,19,0,n["\u0275nov"](t.parent.parent,0),t.context.$implicit.amount_to_pay_taxes,"1.2"));e(t,18,0,i);var s=n["\u0275unv"](t,21,0,e(t,22,0,n["\u0275nov"](t.parent.parent,0),t.context.$implicit.amount_to_pay,"1.2"));e(t,21,0,s),e(t,25,0,null==t.context.$implicit.pay_attachment||""==t.context.$implicit.pay_attachment.pay_attachment_file_name),e(t,27,0,null==t.context.$implicit.pay_attachment||""==t.context.$implicit.pay_attachment.pay_attachment_file_name),e(t,29,0,n["\u0275inlineInterpolate"](1,"",t.context.index,"Upload"),""!==t.context.$implicit.pay_attachment.pay_attachment_file_name),e(t,32,0,!0,n["\u0275inlineInterpolate"](1,"",t.context.index,"Upload"))})}function pt(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,16,"tr",[["style","background-color: silver;"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,1,"th",[["colspan","3"],["style","text-align: right;"]],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["TOTAL"])),(e()(),n["\u0275eld"](3,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),n["\u0275ted"](4,null,[""," USD"])),n["\u0275ppd"](5,2),(e()(),n["\u0275eld"](6,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),n["\u0275ted"](7,null,[""," USD"])),n["\u0275ppd"](8,2),(e()(),n["\u0275eld"](9,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),n["\u0275ted"](10,null,[""," USD"])),n["\u0275ppd"](11,2),(e()(),n["\u0275eld"](12,0,null,null,3,"td",[],null,null,null,null,null)),(e()(),n["\u0275eld"](13,0,null,null,2,"strong",[["style","color: red;"]],null,null,null,null,null)),(e()(),n["\u0275ted"](14,null,[""," USD"])),n["\u0275ppd"](15,2),(e()(),n["\u0275eld"](16,0,null,null,0,"td",[["colspan","2"]],null,null,null,null,null))],null,function(e,t){var l=t.component,a=n["\u0275unv"](t,4,0,e(t,5,0,n["\u0275nov"](t.parent.parent,0),l.totalPayBase,"1.2"));e(t,4,0,a);var i=n["\u0275unv"](t,7,0,e(t,8,0,n["\u0275nov"](t.parent.parent,0),l.totalPayFines,"1.2"));e(t,7,0,i);var s=n["\u0275unv"](t,10,0,e(t,11,0,n["\u0275nov"](t.parent.parent,0),l.totalPayTaxes,"1.2"));e(t,10,0,s);var r=n["\u0275unv"](t,14,0,e(t,15,0,n["\u0275nov"](t.parent.parent,0),l.totalPayToPay,"1.2"));e(t,14,0,r)})}function gt(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,27,"div",[["class","row"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,26,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,25,"table",[["class","table table-hover mt-2"]],null,null,null,null,null)),(e()(),n["\u0275eld"](3,0,null,null,19,"thead",[],null,null,null,null,null)),(e()(),n["\u0275eld"](4,0,null,null,18,"tr",[],null,null,null,null,null)),(e()(),n["\u0275eld"](5,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["C\xf3digo"])),(e()(),n["\u0275eld"](7,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Estado"])),(e()(),n["\u0275eld"](9,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Valor Pagado"])),(e()(),n["\u0275eld"](11,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Valor a Pagar - Impuesto 1X1000"])),(e()(),n["\u0275eld"](13,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Valor a Pagar - Multas"])),(e()(),n["\u0275eld"](15,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Valor a Pagar - Intereses"])),(e()(),n["\u0275eld"](17,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Valor a Pagar - Total"])),(e()(),n["\u0275eld"](19,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Documento Pago"])),(e()(),n["\u0275eld"](21,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Opciones"])),(e()(),n["\u0275eld"](23,0,null,null,4,"tbody",[],null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,ht)),n["\u0275did"](25,278528,null,0,h.NgForOf,[n.ViewContainerRef,n.TemplateRef,n.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,pt)),n["\u0275did"](27,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var l=t.component;e(t,25,0,l.pays),e(t,27,0,l.calcTotales())},null)}function mt(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,4,"div",[["class","row mt-5"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,3,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,2,"h4",[],null,null,null,null,null)),(e()(),n["\u0275eld"](3,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Resultado de la Revisi\xf3n"]))],null,null)}function _t(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,3,"option",[["value","1"]],null,null,null,null,null)),n["\u0275did"](1,147456,null,0,u.n,[n.ElementRef,n.Renderer2,[2,u.o]],{value:[0,"value"]},null),n["\u0275did"](2,147456,null,0,u.t,[n.ElementRef,n.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),n["\u0275ted"](-1,null,["Aprobado"]))],function(e,t){e(t,1,0,"1"),e(t,2,0,"1")},null)}function ft(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,3,"option",[["value","2"]],null,null,null,null,null)),n["\u0275did"](1,147456,null,0,u.n,[n.ElementRef,n.Renderer2,[2,u.o]],{value:[0,"value"]},null),n["\u0275did"](2,147456,null,0,u.t,[n.ElementRef,n.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),n["\u0275ted"](-1,null,["Negado"]))],function(e,t){e(t,1,0,"2"),e(t,2,0,"2")},null)}function vt(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,31,"div",[["class","row mt-3"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,9,"div",[["class","col-6"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Fecha de la Revisi\xf3n"])),(e()(),n["\u0275eld"](4,0,null,null,6,"input",[["class","form-control"],["id","date_fullfill"],["name","date_fullfill"],["placeholder","Fecha de Revisi\xf3n"],["type","date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,l){var a=!0,i=e.component;return"input"===t&&(a=!1!==n["\u0275nov"](e,5)._handleInput(l.target.value)&&a),"blur"===t&&(a=!1!==n["\u0275nov"](e,5).onTouched()&&a),"compositionstart"===t&&(a=!1!==n["\u0275nov"](e,5)._compositionStart()&&a),"compositionend"===t&&(a=!1!==n["\u0275nov"](e,5)._compositionEnd(l.target.value)&&a),"ngModelChange"===t&&(a=!1!==(i.registerApprovalFinanciero.date_fullfill=l)&&a),a},null,null)),n["\u0275did"](5,16384,null,0,u.d,[n.Renderer2,n.ElementRef,[2,u.a]],null,null),n["\u0275prd"](1024,null,u.h,function(e){return[e]},[u.d]),n["\u0275did"](7,671744,null,0,u.m,[[8,null],[8,null],[8,null],[6,u.h]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),n["\u0275ppd"](8,2),n["\u0275prd"](2048,null,u.i,null,[u.m]),n["\u0275did"](10,16384,null,0,u.j,[[4,u.i]],null,null),(e()(),n["\u0275eld"](11,0,null,null,20,"div",[["class","col-6"]],null,null,null,null,null)),(e()(),n["\u0275eld"](12,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Estado del Tr\xe1mite"])),(e()(),n["\u0275eld"](14,0,null,null,17,"select",[["class","form-control"],["id","stateTramit"],["name","stateTramit"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,t,l){var a=!0,i=e.component;return"change"===t&&(a=!1!==n["\u0275nov"](e,15).onChange(l.target.value)&&a),"blur"===t&&(a=!1!==n["\u0275nov"](e,15).onTouched()&&a),"ngModelChange"===t&&(a=!1!==(i.inspectionState=l)&&a),a},null,null)),n["\u0275did"](15,16384,null,0,u.o,[n.Renderer2,n.ElementRef],null,null),n["\u0275prd"](1024,null,u.h,function(e){return[e]},[u.o]),n["\u0275did"](17,671744,null,0,u.m,[[8,null],[8,null],[8,null],[6,u.h]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),n["\u0275prd"](2048,null,u.i,null,[u.m]),n["\u0275did"](19,16384,null,0,u.j,[[4,u.i]],null,null),(e()(),n["\u0275eld"](20,0,null,null,3,"option",[["selected",""],["value","0"]],null,null,null,null,null)),n["\u0275did"](21,147456,null,0,u.n,[n.ElementRef,n.Renderer2,[2,u.o]],{value:[0,"value"]},null),n["\u0275did"](22,147456,null,0,u.t,[n.ElementRef,n.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),n["\u0275ted"](-1,null,["Pendiente"])),(e()(),n["\u0275and"](16777216,null,null,1,null,_t)),n["\u0275did"](25,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,ft)),n["\u0275did"](27,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](28,0,null,null,3,"option",[["value","3"]],null,null,null,null,null)),n["\u0275did"](29,147456,null,0,u.n,[n.ElementRef,n.Renderer2,[2,u.o]],{value:[0,"value"]},null),n["\u0275did"](30,147456,null,0,u.t,[n.ElementRef,n.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),n["\u0275ted"](-1,null,["Requerimiento Al Usuario"]))],function(e,t){var l=t.component,a=n["\u0275unv"](t,7,1,e(t,8,0,n["\u0275nov"](t.parent,1),l.registerApprovalFinanciero.date_fullfill,"y-MM-dd"));e(t,7,0,"date_fullfill",a),e(t,17,0,"stateTramit",l.inspectionState),e(t,21,0,"0"),e(t,22,0,"0"),e(t,25,0,l.pagado()),e(t,27,0,l.pays.length>0),e(t,29,0,"3"),e(t,30,0,"3")},function(e,t){e(t,4,0,n["\u0275nov"](t,10).ngClassUntouched,n["\u0275nov"](t,10).ngClassTouched,n["\u0275nov"](t,10).ngClassPristine,n["\u0275nov"](t,10).ngClassDirty,n["\u0275nov"](t,10).ngClassValid,n["\u0275nov"](t,10).ngClassInvalid,n["\u0275nov"](t,10).ngClassPending),e(t,14,0,n["\u0275nov"](t,19).ngClassUntouched,n["\u0275nov"](t,19).ngClassTouched,n["\u0275nov"](t,19).ngClassPristine,n["\u0275nov"](t,19).ngClassDirty,n["\u0275nov"](t,19).ngClassValid,n["\u0275nov"](t,19).ngClassInvalid,n["\u0275nov"](t,19).ngClassPending)})}function bt(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,8,"div",[["class","col-12 mt-3 mb-2"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,1,"label",[["class","col-form-label"]],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Observaciones"])),(e()(),n["\u0275eld"](4,0,null,null,5,"ck-editor",[["id","notes"],["name","notes"],["skin","moono-lisa"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(e,t,l){var n=!0;return"ngModelChange"===t&&(n=!1!==(e.component.registerApprovalFinanciero.notes=l)&&n),n},c.b,c.a)),n["\u0275did"](5,9158656,null,0,d.a,[n.NgZone,n.ElementRef],{skin:[0,"skin"],id:[1,"id"]},null),n["\u0275prd"](1024,null,u.h,function(e){return[e]},[d.a]),n["\u0275did"](7,671744,null,0,u.m,[[8,null],[8,null],[8,null],[6,u.h]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),n["\u0275prd"](2048,null,u.i,null,[u.m]),n["\u0275did"](9,16384,null,0,u.j,[[4,u.i]],null,null),(e()(),n["\u0275eld"](10,0,null,null,6,"div",[["class","col-12 text-center mb-3"]],null,null,null,null,null)),(e()(),n["\u0275eld"](11,0,null,null,2,"button",[["class","btn btn-success"],["title","Guardar Informaci\xf3n Revisi\xf3n"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,l){var n=!0;return"click"===t&&(n=!1!==e.component.guardarInspeccion()&&n),n},null,null)),(e()(),n["\u0275eld"](12,0,null,null,0,"i",[["class","fas fa-save"]],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,[" Guardar Informaci\xf3n"])),(e()(),n["\u0275eld"](14,0,null,null,2,"button",[["class","btn btn-danger ml-2"],["title","Cancelar Cambios"],["type","button"]],null,[[null,"click"]],function(e,t,l){var n=!0;return"click"===t&&(n=!1!==e.component.refresh()&&n),n},null,null)),(e()(),n["\u0275eld"](15,0,null,null,0,"i",[["class","fas fa-times"]],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,[" Cancelar"]))],function(e,t){var l=t.component;e(t,5,0,"moono-lisa","notes"),e(t,7,0,"notes",l.registerApprovalFinanciero.notes)},function(e,t){var l=t.component;e(t,4,0,n["\u0275nov"](t,9).ngClassUntouched,n["\u0275nov"](t,9).ngClassTouched,n["\u0275nov"](t,9).ngClassPristine,n["\u0275nov"](t,9).ngClassDirty,n["\u0275nov"](t,9).ngClassValid,n["\u0275nov"](t,9).ngClassInvalid,n["\u0275nov"](t,9).ngClassPending),e(t,11,0,!l.validateInspectionInfo()||l.guardandoFinanciero||0==l.stateTramit)})}function yt(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,0,"span",[["class","far fa-hand-point-right"]],null,null,null,null,null))],null,null)}function Ct(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,8,"tr",[],null,[[null,"click"]],function(e,t,l){var n=!0;return"click"===t&&(n=!1!==e.component.selectDeclaration(e.context.$implicit)&&n),n},null,null)),(e()(),n["\u0275eld"](1,0,null,null,2,"td",[["class","text-right"]],null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,yt)),n["\u0275did"](3,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](4,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),n["\u0275ted"](5,null,["",""])),(e()(),n["\u0275eld"](6,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),n["\u0275ted"](7,null,["",""])),n["\u0275ppd"](8,2)],function(e,t){e(t,3,0,t.component.declaration_selected===t.context.$implicit)},function(e,t){e(t,5,0,t.context.$implicit.year);var l=n["\u0275unv"](t,7,0,e(t,8,0,n["\u0275nov"](t.parent.parent.parent,1),t.context.$implicit.declaration_date,"y-MM-dd"));e(t,7,0,l)})}function Et(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Anexar balance individual del establecimiento, suscrito por el representante legal*"]))],null,null)}function St(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Anexar inventario valorado del establecimiento, suscrito por el propietario*"]))],null,null)}function Rt(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"span",[["class","ml-2 badge badge-danger"]],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Incorrecto"]))],null,null)}function Dt(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,14,"tr",[],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),n["\u0275ted"](2,null,[" "," "])),(e()(),n["\u0275eld"](3,0,null,null,11,"td",[],null,null,null,null,null)),(e()(),n["\u0275eld"](4,0,null,null,10,"div",[["class","input-group"]],null,null,null,null,null)),(e()(),n["\u0275eld"](5,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(e()(),n["\u0275eld"](6,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["USD"])),(e()(),n["\u0275eld"](8,0,null,null,6,"input",[["class","form-control"],["id","declarationITemValue"],["min","0"],["name","declarationITemValue"],["placeholder","Valor"],["step","0.01"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(e,t,l){var a=!0,i=e.component;return"input"===t&&(a=!1!==n["\u0275nov"](e,9)._handleInput(l.target.value)&&a),"blur"===t&&(a=!1!==n["\u0275nov"](e,9).onTouched()&&a),"compositionstart"===t&&(a=!1!==n["\u0275nov"](e,9)._compositionStart()&&a),"compositionend"===t&&(a=!1!==n["\u0275nov"](e,9)._compositionEnd(l.target.value)&&a),"change"===t&&(a=!1!==n["\u0275nov"](e,10).onChange(l.target.value)&&a),"input"===t&&(a=!1!==n["\u0275nov"](e,10).onChange(l.target.value)&&a),"blur"===t&&(a=!1!==n["\u0275nov"](e,10).onTouched()&&a),"ngModelChange"===t&&(a=!1!==(e.context.$implicit.valueItem.value=l)&&a),"input"===t&&(a=!1!==i.calcularUnoxMil()&&a),a},null,null)),n["\u0275did"](9,16384,null,0,u.d,[n.Renderer2,n.ElementRef,[2,u.a]],null,null),n["\u0275did"](10,16384,null,0,u.q,[n.Renderer2,n.ElementRef],null,null),n["\u0275prd"](1024,null,u.h,function(e,t){return[e,t]},[u.d,u.q]),n["\u0275did"](12,671744,null,0,u.m,[[8,null],[8,null],[8,null],[6,u.h]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),n["\u0275prd"](2048,null,u.i,null,[u.m]),n["\u0275did"](14,16384,null,0,u.j,[[4,u.i]],null,null)],function(e,t){e(t,12,0,"declarationITemValue",!t.component.declaration_selected.editable,t.context.$implicit.valueItem.value)},function(e,t){e(t,2,0,t.context.$implicit.declarationItem.name),e(t,8,0,n["\u0275nov"](t,14).ngClassUntouched,n["\u0275nov"](t,14).ngClassTouched,n["\u0275nov"](t,14).ngClassPristine,n["\u0275nov"](t,14).ngClassDirty,n["\u0275nov"](t,14).ngClassValid,n["\u0275nov"](t,14).ngClassInvalid,n["\u0275nov"](t,14).ngClassPending)})}function It(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,18,"tbody",[],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,2,"tr",[["class","text-light bg-secondary"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,1,"th",[["class","text-center"],["colspan","2"]],null,null,null,null,null)),(e()(),n["\u0275ted"](3,null,[" "," "])),(e()(),n["\u0275eld"](4,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),n["\u0275eld"](5,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,[" Nombre "])),(e()(),n["\u0275eld"](7,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,[" Valor "])),(e()(),n["\u0275and"](16777216,null,null,1,null,Dt)),n["\u0275did"](10,278528,null,0,h.NgForOf,[n.ViewContainerRef,n.TemplateRef,n.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),n["\u0275eld"](11,0,null,null,7,"tr",[],null,null,null,null,null)),(e()(),n["\u0275eld"](12,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),n["\u0275eld"](13,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),n["\u0275ted"](14,null,[" TOTAL "," "])),(e()(),n["\u0275eld"](15,0,null,null,3,"td",[],null,null,null,null,null)),(e()(),n["\u0275eld"](16,0,null,null,2,"strong",[],null,null,null,null,null)),(e()(),n["\u0275ted"](17,null,[""," USD"])),n["\u0275ppd"](18,2)],function(e,t){e(t,10,0,t.context.$implicit.items)},function(e,t){e(t,3,0,t.context.$implicit.Category.name),e(t,14,0,t.context.$implicit.Category.name);var l=n["\u0275unv"](t,17,0,e(t,18,0,n["\u0275nov"](t.parent.parent.parent.parent,0),t.context.$implicit.Category.total,"1.2"));e(t,17,0,l)})}function wt(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,59,"div",[],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,3,"div",[["class","row mt-5"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,2,"div",[["class","col-12 text-left"]],null,null,null,null,null)),(e()(),n["\u0275eld"](3,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Datos de la Declaraci\xf3n:"])),(e()(),n["\u0275eld"](5,0,null,null,34,"div",[["class","row"]],null,null,null,null,null)),(e()(),n["\u0275eld"](6,0,null,null,10,"div",[["class","col-6"]],null,null,null,null,null)),(e()(),n["\u0275eld"](7,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),n["\u0275eld"](8,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["A\xf1o de Obligaci\xf3n de Pago"])),(e()(),n["\u0275eld"](10,0,null,null,6,"input",[["class","form-control"],["id","declarationYear"],["name","declarationYear"],["placeholder","A\xf1o a Declarar"],["type","number"]],[[8,"max",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(e,t,l){var a=!0,i=e.component;return"input"===t&&(a=!1!==n["\u0275nov"](e,11)._handleInput(l.target.value)&&a),"blur"===t&&(a=!1!==n["\u0275nov"](e,11).onTouched()&&a),"compositionstart"===t&&(a=!1!==n["\u0275nov"](e,11)._compositionStart()&&a),"compositionend"===t&&(a=!1!==n["\u0275nov"](e,11)._compositionEnd(l.target.value)&&a),"change"===t&&(a=!1!==n["\u0275nov"](e,12).onChange(l.target.value)&&a),"input"===t&&(a=!1!==n["\u0275nov"](e,12).onChange(l.target.value)&&a),"blur"===t&&(a=!1!==n["\u0275nov"](e,12).onTouched()&&a),"ngModelChange"===t&&(a=!1!==(i.declaration_selected.year=l)&&a),a},null,null)),n["\u0275did"](11,16384,null,0,u.d,[n.Renderer2,n.ElementRef,[2,u.a]],null,null),n["\u0275did"](12,16384,null,0,u.q,[n.Renderer2,n.ElementRef],null,null),n["\u0275prd"](1024,null,u.h,function(e,t){return[e,t]},[u.d,u.q]),n["\u0275did"](14,671744,null,0,u.m,[[8,null],[8,null],[8,null],[6,u.h]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),n["\u0275prd"](2048,null,u.i,null,[u.m]),n["\u0275did"](16,16384,null,0,u.j,[[4,u.i]],null,null),(e()(),n["\u0275eld"](17,0,null,null,22,"div",[["class","col-6"]],null,null,null,null,null)),(e()(),n["\u0275eld"](18,0,null,null,21,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,Et)),n["\u0275did"](20,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,St)),n["\u0275did"](22,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,Rt)),n["\u0275did"](24,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](25,0,null,null,6,"div",[["class","input-group"]],null,null,null,null,null)),(e()(),n["\u0275eld"](26,0,null,null,4,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(e()(),n["\u0275eld"](27,0,null,null,1,"button",[["class","btn btn-primary"],["title","Descargar Adjunto"],["type","button"]],null,[[null,"click"]],function(e,t,l){var n=!0;return"click"===t&&(n=!1!==e.component.downloadBalance()&&n),n},null,null)),(e()(),n["\u0275eld"](28,0,null,null,0,"i",[["class","fas fa-download"]],null,null,null,null,null)),(e()(),n["\u0275eld"](29,0,null,null,1,"button",[["class","btn btn-danger"],["title","Eliminar"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,l){var n=!0;return"click"===t&&(n=!1!==e.component.borrarBalance()&&n),n},null,null)),(e()(),n["\u0275eld"](30,0,null,null,0,"i",[["class","fas fa-trash"]],null,null,null,null,null)),(e()(),n["\u0275eld"](31,0,null,null,0,"input",[["accept","application/pdf"],["class","form-control"],["type","file"]],[[8,"disabled",0]],[[null,"change"]],function(e,t,l){var n=!0;return"change"===t&&(n=!1!==e.component.CodificarArchivoBalance(l)&&n),n},null,null)),(e()(),n["\u0275eld"](32,0,null,null,7,"small",[["class","col-12"]],null,null,null,null,null)),(e()(),n["\u0275eld"](33,0,null,null,6,"div",[["class","alert alert-info mt-2 mb-2"],["role","alert"]],null,null,null,null,null)),(e()(),n["\u0275eld"](34,0,null,null,2,"label",[["class","col-12 text-justify"]],null,null,null,null,null)),(e()(),n["\u0275eld"](35,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Informaci\xf3n"])),(e()(),n["\u0275eld"](37,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),n["\u0275eld"](38,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Verifique que el nombre del archivo que est\xe1 cargando sea de longitud menor a 25 caracteres"])),(e()(),n["\u0275eld"](40,0,null,null,19,"div",[["class","row"]],null,null,null,null,null)),(e()(),n["\u0275eld"](41,0,null,null,18,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),n["\u0275eld"](42,0,null,null,17,"table",[["class","table table-hover mt-2"]],null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,It)),n["\u0275did"](44,278528,null,0,h.NgForOf,[n.ViewContainerRef,n.TemplateRef,n.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),n["\u0275eld"](45,0,null,null,14,"tbody",[],null,null,null,null,null)),(e()(),n["\u0275eld"](46,0,null,null,6,"tr",[],null,null,null,null,null)),(e()(),n["\u0275eld"](47,0,null,null,1,"th",[["class","text-light bg-secondary text-right"]],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,[" TOTAL PROPIEDAD, PLANTA Y EQUIPO "])),(e()(),n["\u0275eld"](49,0,null,null,3,"td",[["style","color:red;"]],null,null,null,null,null)),(e()(),n["\u0275eld"](50,0,null,null,2,"strong",[],null,null,null,null,null)),(e()(),n["\u0275ted"](51,null,[""," USD"])),n["\u0275ppd"](52,2),(e()(),n["\u0275eld"](53,0,null,null,6,"tr",[],null,null,null,null,null)),(e()(),n["\u0275eld"](54,0,null,null,1,"th",[["class","text-light bg-secondary text-right"]],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,[" CONTRIBUCI\xd3N CAUSADA UNO POR MIL "])),(e()(),n["\u0275eld"](56,0,null,null,3,"td",[["style","color:red;"]],null,null,null,null,null)),(e()(),n["\u0275eld"](57,0,null,null,2,"strong",[],null,null,null,null,null)),(e()(),n["\u0275ted"](58,null,[""," USD"])),n["\u0275ppd"](59,2)],function(e,t){var l=t.component;e(t,14,0,"declarationYear",!l.declaration_selected.editable,l.declaration_selected.year),e(t,20,0,2==l.ruc_registro_selected.ruc.tax_payer_type_id),e(t,22,0,1==l.ruc_registro_selected.ruc.tax_payer_type_id),e(t,24,0,""===l.balance.declaration_attachment_file),e(t,44,0,l.declarationItemsToShow)},function(e,t){var l=t.component;e(t,10,0,l.maxYear,n["\u0275nov"](t,16).ngClassUntouched,n["\u0275nov"](t,16).ngClassTouched,n["\u0275nov"](t,16).ngClassPristine,n["\u0275nov"](t,16).ngClassDirty,n["\u0275nov"](t,16).ngClassValid,n["\u0275nov"](t,16).ngClassInvalid,n["\u0275nov"](t,16).ngClassPending),e(t,29,0,!0),e(t,31,0,!0);var a=n["\u0275unv"](t,51,0,e(t,52,0,n["\u0275nov"](t.parent.parent.parent,0),l.totalunoxmil,"1.2"));e(t,51,0,a);var i=n["\u0275unv"](t,58,0,e(t,59,0,n["\u0275nov"](t.parent.parent.parent,0),l.totalunoxmil/1e3,"1.2"));e(t,58,0,i)})}function Tt(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,9,"div",[["class","row mt-3"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,7,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,6,"div",[["class","alert alert-warning mt-2 mb-2"],["role","alert"]],null,null,null,null,null)),(e()(),n["\u0275eld"](3,0,null,null,2,"label",[["class","col-12 text-justify"]],null,null,null,null,null)),(e()(),n["\u0275eld"](4,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Declaraci\xf3n Juramentada"])),(e()(),n["\u0275eld"](6,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),n["\u0275eld"](7,0,null,null,0,"p",[["class","col-12 text-justify"]],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Declaro, bajo juramento, que los datos consignados en el presente formulario reflejan la realidad y autorizo al Ministerio de Turismo a verificar el contenido de esta declaraci\xf3n en cualquier momento, al tiempo que me sujeto, a las sanciones previstas en la ley en caso de falsedad o perjurio. "])),(e()(),n["\u0275eld"](9,0,null,null,0,"div",[["class","col-12 text-center"]],null,null,null,null,null))],null,null)}function Pt(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,25,"div",[["class","row mt-5"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,24,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,3,"div",[["class","row mt-3"]],null,null,null,null,null)),(e()(),n["\u0275eld"](3,0,null,null,2,"h4",[["class","col-12"]],null,null,null,null,null)),(e()(),n["\u0275eld"](4,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Declaraciones de Impuestos"])),(e()(),n["\u0275eld"](6,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(e()(),n["\u0275eld"](7,0,null,null,4,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),n["\u0275eld"](8,0,null,null,3,"div",[["class","btn-toolbar"],["role","toolbar"]],null,null,null,null,null)),(e()(),n["\u0275eld"](9,0,null,null,2,"div",[["class","btn-group mr-2"],["role","group"]],null,null,null,null,null)),(e()(),n["\u0275eld"](10,0,null,null,1,"button",[["class","btn btn-primary"],["title","Actualizar"],["type","button"]],null,[[null,"click"]],function(e,t,l){var n=!0,a=e.component;return"click"===t&&(n=!1!==a.getDeclarationsByEstablishment(a.establishment_id)&&n),n},null,null)),(e()(),n["\u0275eld"](11,0,null,null,0,"i",[["class","fas fa-sync"]],null,null,null,null,null)),(e()(),n["\u0275eld"](12,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(e()(),n["\u0275eld"](13,0,null,null,12,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),n["\u0275eld"](14,0,null,null,11,"table",[["class","table table-hover mt-2"]],null,null,null,null,null)),(e()(),n["\u0275eld"](15,0,null,null,7,"thead",[],null,null,null,null,null)),(e()(),n["\u0275eld"](16,0,null,null,6,"tr",[],null,null,null,null,null)),(e()(),n["\u0275eld"](17,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Seleccionado"])),(e()(),n["\u0275eld"](19,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["A\xf1o"])),(e()(),n["\u0275eld"](21,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Fecha de Declaraci\xf3n"])),(e()(),n["\u0275eld"](23,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,Ct)),n["\u0275did"](25,278528,null,0,h.NgForOf,[n.ViewContainerRef,n.TemplateRef,n.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,wt)),n["\u0275did"](27,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,Tt)),n["\u0275did"](29,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](0,null,null,0))],function(e,t){var l=t.component;e(t,25,0,l.declarations),e(t,27,0,l.mostrarDataDeclaration),e(t,29,0,l.mostrarDataDeclaration)},null)}function At(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,15,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,3,"div",[["class","row mt-5"]],null,null,null,null,null)),(e()(),n["\u0275eld"](3,0,null,null,2,"div",[["class","col-12 text-left"]],null,null,null,null,null)),(e()(),n["\u0275eld"](4,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Datos:"])),(e()(),n["\u0275eld"](6,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(e()(),n["\u0275eld"](7,0,null,null,9,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),n["\u0275eld"](8,0,null,null,8,"ngb-tabset",[],null,null,null,r.h,r.e)),n["\u0275did"](9,2146304,null,1,o.Z,[o.ab],null,null),n["\u0275qud"](603979776,9,{tabs:1}),(e()(),n["\u0275eld"](11,0,null,null,5,"ngb-tab",[["id","tab4"],["title","Declaraci\xf3n de Impuestos"]],null,null,null,null,null)),n["\u0275did"](12,2113536,[[9,4]],2,o.X,[],{id:[0,"id"],title:[1,"title"]},null),n["\u0275qud"](603979776,10,{titleTpls:1}),n["\u0275qud"](603979776,11,{contentTpls:1}),(e()(),n["\u0275and"](0,null,null,1,null,Pt)),n["\u0275did"](16,16384,[[11,4]],0,o.Y,[n.TemplateRef],null,null)],function(e,t){e(t,12,0,"tab4","Declaraci\xf3n de Impuestos")},null)}function xt(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["Observaciones"])),(e()(),n["\u0275eld"](3,0,null,null,2,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),n["\u0275eld"](4,0,null,null,1,"div",[["class","row"]],null,null,null,null,null)),(e()(),n["\u0275eld"](5,0,null,null,0,"div",[["class","col-12 text-justify"]],[[8,"innerHTML",1]],null,null,null,null)),(e()(),n["\u0275eld"](6,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),n["\u0275eld"](7,0,null,null,1,"button",[["class","btn btn-outline-success"],["type","button"]],null,[[null,"click"]],function(e,t,l){var n=!0;return"click"===t&&(n=!1!==e.context.$implicit.close("Guardar click")&&n),n},null,null)),(e()(),n["\u0275ted"](-1,null,["Cerrar"]))],null,function(e,t){e(t,5,0,t.component.statusSelected.justification)})}function Vt(e){return n["\u0275vid"](0,[n["\u0275pid"](0,h.DecimalPipe,[n.LOCALE_ID]),n["\u0275pid"](0,h.DatePipe,[n.LOCALE_ID]),n["\u0275qud"](402653184,1,{fotoFachadaInput:0}),n["\u0275qud"](402653184,2,{EstablishmentCertificationAttachedFile:0}),(e()(),n["\u0275eld"](4,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(e()(),n["\u0275eld"](5,0,null,null,1,"h1",[["class","col-12 text-right"]],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,[" Registros - MINTUR "])),(e()(),n["\u0275eld"](7,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(e()(),n["\u0275eld"](8,0,null,null,7,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),n["\u0275eld"](9,0,null,null,6,"div",[["class","btn-toolbar"],["role","toolbar"]],null,null,null,null,null)),(e()(),n["\u0275eld"](10,0,null,null,2,"div",[["class","btn-group mr-2"],["role","group"]],null,null,null,null,null)),(e()(),n["\u0275eld"](11,0,null,null,1,"button",[["class","btn btn-primary"],["title","Actualizar"],["type","button"]],null,[[null,"click"]],function(e,t,l){var n=!0;return"click"===t&&(n=!1!==e.component.refresh()&&n),n},null,null)),(e()(),n["\u0275eld"](12,0,null,null,0,"i",[["class","fas fa-sync"]],null,null,null,null,null)),(e()(),n["\u0275eld"](13,0,null,null,2,"div",[["class","btn-group mr-2"],["role","group"]],null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,Be)),n["\u0275did"](15,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](16,0,null,null,4,"div",[["style","width: 100%; overflow-x: auto;"]],null,null,null,null,null)),(e()(),n["\u0275eld"](17,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(e()(),n["\u0275eld"](18,0,null,null,2,"div",[["class","col-12 mt-2"]],null,null,null,null,null)),(e()(),n["\u0275eld"](19,0,null,null,1,"ng-table",[],null,[[null,"cellClicked"],[null,"tableChanged"]],function(e,t,l){var n=!0,a=e.component;return"cellClicked"===t&&(n=!1!==a.onCellClick(l)&&n),"tableChanged"===t&&(n=!1!==a.onChangeTable(a.config)&&n),n},p.b,p.a)),n["\u0275did"](20,49152,null,0,g.NgTableComponent,[m.DomSanitizer],{rows:[0,"rows"],config:[1,"config"],columns:[2,"columns"]},{tableChanged:"tableChanged",cellClicked:"cellClicked"}),(e()(),n["\u0275eld"](21,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(e()(),n["\u0275eld"](22,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,Ye)),n["\u0275did"](24,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,Je)),n["\u0275did"](26,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,We)),n["\u0275did"](28,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,Qe)),n["\u0275did"](30,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,He)),n["\u0275did"](32,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](33,0,null,null,2,"div",[["class","col-12 text-center mb-3"]],null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,Xe)),n["\u0275did"](35,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,et)),n["\u0275did"](37,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](38,0,null,null,2,"div",[["style","width: 100%; overflow-x: auto;"]],null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,lt)),n["\u0275did"](40,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,nt)),n["\u0275did"](42,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,at)),n["\u0275did"](44,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,it)),n["\u0275did"](46,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,st)),n["\u0275did"](48,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,rt)),n["\u0275did"](50,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](51,0,null,null,2,"div",[["style","width: 100%; overflow-x: auto;"]],null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,gt)),n["\u0275did"](53,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,mt)),n["\u0275did"](55,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,vt)),n["\u0275did"](57,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,bt)),n["\u0275did"](59,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,At)),n["\u0275did"](61,16384,null,0,h.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](0,[["content",2]],null,0,null,xt))],function(e,t){var l=t.component;e(t,15,0,l.config.filtering),e(t,20,0,l.rows,l.config,l.columns),e(t,24,0,l.config.paging),e(t,26,0,l.mostrarMotivoTramite&&""!=l.motivoTramite),e(t,28,0,0!=l.contactUser.id),e(t,30,0,l.mostrarDataRegisterMintur&&"7"==l.digito),e(t,32,0,l.estoyVacaciones),e(t,35,0,l.estoyVacaciones),e(t,37,0,l.mostrarDataRegisterMintur),e(t,40,0,l.mostrarDataRegisterMintur),e(t,42,0,l.mostrarDataRegisterMintur),e(t,44,0,l.mostrarDataRegisterMintur),e(t,46,0,l.mostrarDataRegisterMintur&&l.payManualAgreement),e(t,48,0,l.mostrarDataRegisterMintur&&l.payManualAgreement),e(t,50,0,l.mostrarDataRegisterMintur),e(t,53,0,l.mostrarDataRegisterMintur),e(t,55,0,l.mostrarDataRegisterMintur),e(t,57,0,l.mostrarDataRegisterMintur),e(t,59,0,l.mostrarDataRegisterMintur),e(t,61,0,l.mostrarDataRegisterMintur)},null)}function Nt(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"app-tecnico-financiero",[],null,null,null,Vt,je)),n["\u0275did"](1,114688,null,0,qe,[Ge.a,C.a,S.a,_.a,v.a,M.a,Fe.a,F.a,Te.a,b.a,X.a,o.y,Le.a,Re.a,_e.a,$.a,f.a,me.a,le.a,V.a,De.a,ne.a,Oe.a,Ie.a,Se.a,oe.a,z.a,de.a,ce.a,O.a,Me.a,B.a,te.a,ee.a,he.a,pe.a,ke.a,U.a,R.a,w.a,I.a,L.a,fe.a,Ve.a,H.a,we.a],null,null)],function(e,t){e(t,1,0)},null)}var kt=n["\u0275ccf"]("app-tecnico-financiero",qe,Nt,{},{},[]),Mt=l("BBZF"),Ft=l("Izlp"),Ot=l("Ry/H"),Lt=l("sE5F"),Ut=l("ZYCi"),qt=l("4Xde"),Gt=l("NRun"),jt=l("rGC/"),Bt=l("7ePi"),zt=l("/fSM"),$t=function(){return function(){}}(),Kt=l("jVYb"),Zt=l("kY/A");l.d(t,"TecnicoFinancieroModuleNgFactory",function(){return Yt});var Yt=n["\u0275cmf"](a,[],function(e){return n["\u0275mod"]([n["\u0275mpd"](512,n.ComponentFactoryResolver,n["\u0275CodegenComponentFactoryResolver"],[[8,[i.a,kt,r.a,r.b,r.l,r.m,r.i,r.j,r.k]],[3,n.ComponentFactoryResolver],n.NgModuleRef]),n["\u0275mpd"](4608,h.NgLocalization,h.NgLocaleLocalization,[n.LOCALE_ID,[2,h["\u0275angular_packages_common_common_a"]]]),n["\u0275mpd"](4608,u.s,u.s,[]),n["\u0275mpd"](4608,o.y,o.y,[n.ComponentFactoryResolver,n.Injector,o.tb,o.z]),n["\u0275mpd"](4608,Mt.c,Mt.c,[]),n["\u0275mpd"](4608,Mt.b,Mt.b,[]),n["\u0275mpd"](4608,Ft.a,Ot.b,[[2,Ot.a],Mt.c,Mt.b]),n["\u0275mpd"](4608,M.a,M.a,[Lt.e]),n["\u0275mpd"](4608,F.a,F.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,I.a,I.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,S.a,S.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,v.a,v.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,b.a,b.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,w.a,w.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,R.a,R.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,_.a,_.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,Te.a,Te.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,H.a,H.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,Le.a,Le.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,Ve.a,Ve.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,me.a,me.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,Fe.a,Fe.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,Se.a,Se.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,qt.a,qt.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,V.a,V.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,te.a,te.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,pe.a,pe.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,C.a,C.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,Oe.a,Oe.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,Re.a,Re.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,ne.a,ne.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,we.a,we.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,Me.a,Me.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,f.a,f.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,O.a,O.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,Ie.a,Ie.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,De.a,De.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,fe.a,fe.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,_e.a,_e.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,oe.a,oe.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,de.a,de.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,$.a,$.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,he.a,he.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,ce.a,ce.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,ke.a,ke.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,L.a,L.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,Gt.a,Gt.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,B.a,B.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,le.a,le.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,ee.a,ee.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,jt.a,jt.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,U.a,U.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,z.a,z.a,[Lt.e,Ut.l]),n["\u0275mpd"](4608,X.a,X.a,[Lt.e,Ut.l]),n["\u0275mpd"](1073742336,h.CommonModule,h.CommonModule,[]),n["\u0275mpd"](1073742336,u.p,u.p,[]),n["\u0275mpd"](1073742336,u.e,u.e,[]),n["\u0275mpd"](1073742336,d.b,d.b,[]),n["\u0275mpd"](1073742336,Bt.b,Bt.b,[]),n["\u0275mpd"](1073742336,zt.a,zt.a,[]),n["\u0275mpd"](1073742336,Ut.o,Ut.o,[[2,Ut.u],[2,Ut.l]]),n["\u0275mpd"](1073742336,$t,$t,[]),n["\u0275mpd"](1073742336,Kt.b,Kt.b,[]),n["\u0275mpd"](1073742336,o.c,o.c,[]),n["\u0275mpd"](1073742336,o.f,o.f,[]),n["\u0275mpd"](1073742336,o.g,o.g,[]),n["\u0275mpd"](1073742336,o.k,o.k,[]),n["\u0275mpd"](1073742336,o.l,o.l,[]),n["\u0275mpd"](1073742336,o.q,o.q,[]),n["\u0275mpd"](1073742336,o.v,o.v,[]),n["\u0275mpd"](1073742336,o.A,o.A,[]),n["\u0275mpd"](1073742336,o.G,o.G,[]),n["\u0275mpd"](1073742336,o.Q,o.Q,[]),n["\u0275mpd"](1073742336,o.T,o.T,[]),n["\u0275mpd"](1073742336,o.W,o.W,[]),n["\u0275mpd"](1073742336,o.bb,o.bb,[]),n["\u0275mpd"](1073742336,o.fb,o.fb,[]),n["\u0275mpd"](1073742336,o.gb,o.gb,[]),n["\u0275mpd"](1073742336,o.hb,o.hb,[]),n["\u0275mpd"](1073742336,o.B,o.B,[]),n["\u0275mpd"](1073742336,Zt.Ng2TableModule,Zt.Ng2TableModule,[]),n["\u0275mpd"](1073742336,a,a,[]),n["\u0275mpd"](1024,Ut.j,function(){return[[{path:"",component:qe}]]},[]),n["\u0275mpd"](256,Ot.a,{apiKey:"AIzaSyCGUwCcM-LKjRK4rjbBJ06_GLmX2LaYzfg"},[])])})}}]);